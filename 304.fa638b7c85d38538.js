"use strict";(self.webpackChunkMeuBilhete_NewSite=self.webpackChunkMeuBilhete_NewSite||[]).push([[304],{1268:(G,B,c)=>{c.d(B,{F:()=>s});var i=c(9808),e=c(5e3);let s=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=e.oAB({type:D}),D.\u0275inj=e.cJS({imports:[[i.ez]]}),D})()},2597:(G,B,c)=>{c.d(B,{D:()=>x});var i=c(7579),e=c(5e3),s=c(3696),D=c(8285),Y=c(9808),S=c(5245),a=c(7851),k=c(6770),V=c(5899);const O=function(g,U){return[g,U]};function E(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e.TgZ(3,"div",8),e.TgZ(4,"h4",9),e._uU(5,"% de Entradas"),e.qZA(),e.qZA(),e.TgZ(6,"div",10),e.TgZ(7,"div",11),e.TgZ(8,"div",12),e.TgZ(9,"div",13),e._UZ(10,"mat-icon",14),e.qZA(),e.qZA(),e.TgZ(11,"div",15),e.TgZ(12,"span",16),e._uU(13,"Entradas"),e.qZA(),e.TgZ(14,"span",17),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",6),e.TgZ(17,"div",7),e.TgZ(18,"div",8),e.TgZ(19,"h4",9),e._uU(20,"Vendas e Entradas"),e.qZA(),e.qZA(),e.TgZ(21,"div",10),e.TgZ(22,"div",18,19),e._UZ(24,"ngx-charts-pie-chart",20),e.TgZ(25,"div",21),e.TgZ(26,"div",22),e.TgZ(27,"div",23),e._UZ(28,"span",24),e.qZA(),e.TgZ(29,"div",25),e.TgZ(30,"div",17),e._uU(31,"Vendas"),e.qZA(),e.TgZ(32,"div",26),e._uU(33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",22),e.TgZ(35,"div",23),e._UZ(36,"span",27),e.qZA(),e.TgZ(37,"div",25),e.TgZ(38,"div",17),e._uU(39,"Entradas"),e.qZA(),e.TgZ(40,"div",26),e._uU(41),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&g){const M=e.MAs(23),_=e.oxw();e.xp6(15),e.hij("",_.quantityEntriesPercent,"%"),e.xp6(9),e.Q6J("view",e.WLB(9,O,.275*M.offsetWidth,.275*M.offsetWidth))("scheme",_.colorScheme)("doughnut",!0)("legend",!1)("results",_.chartSells)("gradient",!0),e.xp6(9),e.hij(" ",_.quantitySells," "),e.xp6(8),e.hij(" ",_.quantityEntries," ")}}const C=function(){return{width:"100%",height:"200px"}};function b(g,U){1&g&&(e.TgZ(0,"div",6),e._UZ(1,"ngx-skeleton-loader",28),e.qZA(),e.TgZ(2,"div",6),e._UZ(3,"ngx-skeleton-loader",28),e.qZA()),2&g&&(e.xp6(1),e.Q6J("theme",e.DdM(2,C)),e.xp6(2),e.Q6J("theme",e.DdM(3,C)))}function p(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"div"),e.TgZ(4,"span",34),e._uU(5,"Setor"),e.qZA(),e.TgZ(6,"span",35),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",33),e.TgZ(9,"div"),e.TgZ(10,"span",34),e._uU(11,"Vendidos"),e.qZA(),e.TgZ(12,"span",36),e._uU(13),e.qZA(),e.qZA(),e.TgZ(14,"div",37),e.TgZ(15,"span",34),e._uU(16,"Entradas"),e.qZA(),e.TgZ(17,"span",36),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e._UZ(19,"mat-progress-bar",38),e.TgZ(20,"div",33),e.TgZ(21,"div"),e._UZ(22,"span",36),e.qZA(),e.TgZ(23,"div",37),e.TgZ(24,"span",36),e._uU(25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&g){const M=U.$implicit;e.xp6(7),e.Oqu(M.name),e.xp6(6),e.Oqu(M.quantitySells),e.xp6(5),e.Oqu(M.quantityEntries),e.xp6(1),e.s9C("value",M.quantityEntriesPercent),e.xp6(6),e.hij("",M.quantityEntriesPercent,"% das pessoas entraram")}}function A(g,U){if(1&g&&(e.TgZ(0,"div",29),e.TgZ(1,"div",7),e.TgZ(2,"div",8),e.TgZ(3,"h4",9),e._uU(4,"Vendas e Entradas por setor"),e.qZA(),e.qZA(),e.TgZ(5,"div",10),e.TgZ(6,"div",30),e.TgZ(7,"div",1),e.YNc(8,p,26,5,"ng-container",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&g){const M=e.oxw();e.xp6(8),e.Q6J("ngForOf",M.informationPerSector)}}function u(g,U){1&g&&(e.TgZ(0,"div",39),e._UZ(1,"ngx-skeleton-loader",28),e.qZA()),2&g&&(e.xp6(1),e.Q6J("theme",e.DdM(1,C)))}let x=(()=>{class g{constructor(M,_){this.toolbarService=M,this.reportService=_,this.colorScheme={domain:["#425BFF","#C2CFDD"]},this.unsubscribe$=new i.x,this.loading=!1,this.loading2=!1,this.quantityTotalTicketsSell=0,this.quantityEntriesPercent=0,this.quantitySellsPercent=0,this.quantityTicketsSector=0,this.onlineAmountTicketsWithoutFeeSell=0,this.onlineAmountTicketsWithFeeSell=0,this.onlineQuantityTicketsSell=0,this.onlineQuantityTicketsSellPercentage=0,this.quantityEntries=0,this.quantitySells=0,this.amountWithoutFeeEmitted=0,this.physicalAmountTicketsWithoutFeeSell=0,this.physicalAmountTicketsWithFeeSell=0,this.physicalQuantityTicketsSell=0,this.physicalQuantityTicketsSellPercentage=0,this.informationPerSector=[],this.eventId="",this.param={eventId:"",withFees:!1,limit:100,orderStatus:["Approved"],ticketStatus:["Generated"]},this.ticketsResume=[],this.chartSells=[{name:"Vendas",value:1},{name:"Entradas",value:1}]}ngOnInit(){this.eventId=location.pathname.split("/")[3],this.param.eventId=this.eventId,this.getSaleInputs(),this.toolbarService.defineCurrentPage("report"),this.toolbarService.getLoadEvent().subscribe(M=>{1==M&&(this.toolbarService.defineLoadEvent(!1),this.toolbarService.getEventId().subscribe(_=>{_!==this.eventId&&""!==_&&(this.eventId=_,this.param.eventId=this.eventId)}))}),this.toolbarService.defineEventId(location.pathname.split("/")[3])}ngOnChanges(M){this.information=M.information.currentValue,this.getSaleInputs()}getSaleInputs(){this.reloadEverything();let M=0,_=0;this.information.orderEntry.forEach(z=>{let $=0,j=0,ae=0;z.tickets.forEach(K=>{M+=K.quantityEntries,_+=K.quantitySales,$+=K.quantityEntries,j+=K.quantitySales,ae+=K.amountWithoutFeeEntries}),this.informationPerSector[this.informationPerSector.length]={name:z.sectorName,id:z.sectorId,quantitySells:j,quantityEntries:$,quantitySellsPercent:this.calculatePercentage(j,j),quantityEntriesPercent:this.calculatePercentage($,j)},this.chartSells[0].value=_,this.chartSells[1].value=M,this.amountWithoutFeeEmitted=ae,this.quantitySellsPercent=this.calculatePercentage(_,_),this.quantityEntriesPercent=this.calculatePercentage(M,_)}),this.quantityEntries=M,this.quantitySells=_}reloadEverything(){this.quantityTotalTicketsSell=0,this.quantityEntriesPercent=0,this.quantitySellsPercent=0,this.quantityTicketsSector=0,this.onlineAmountTicketsWithoutFeeSell=0,this.onlineAmountTicketsWithFeeSell=0,this.onlineQuantityTicketsSell=0,this.onlineQuantityTicketsSellPercentage=0,this.quantityEntries=0,this.quantitySells=0,this.amountWithoutFeeEmitted=0,this.physicalAmountTicketsWithoutFeeSell=0,this.physicalAmountTicketsWithFeeSell=0,this.physicalQuantityTicketsSell=0,this.physicalQuantityTicketsSellPercentage=0,this.informationPerSector.length=0}calculatePercentage(M,_){return parseFloat(M/_*100).toFixed(2).replace(/\.00$/,"")}}return g.\u0275fac=function(M){return new(M||g)(e.Y36(s.O),e.Y36(D.r))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-inputs-report"]],inputs:{information:"information"},features:[e.TTD],decls:8,vars:4,consts:[[1,"inputs-report__content"],[1,"row"],[4,"ngIf","ngIfElse"],["showLoading",""],["class","col-sm-12 col-md-12",4,"ngIf","ngIfElse"],["showLoading2",""],[1,"col-sm-12","col-md-6"],[1,"card"],[1,"card-header"],[1,"card-subtitle"],[1,"card-body"],[1,"inputs-report__issued"],[1,"issued__icon"],[1,"icon__circle"],["svgIcon","ingressosa"],[1,"issued__info"],[1,"info_label"],[1,"info__title"],[1,"chart__container"],["pieChart",""],[3,"view","scheme","doughnut","legend","results","gradient"],[1,"pie-chart__legend"],[1,"legend__legend-item"],[1,"legend-item__color"],[1,"color__online-sales"],[1,"legend-item__info"],[1,"info__qty"],[1,"color__physical-sales"],[3,"theme"],[1,"col-sm-12","col-md-12"],[1,"inputs-report__categories"],[4,"ngFor","ngForOf"],[1,"col-sm-6","mb-5"],[1,"categories__row"],[1,"info__label"],[1,"info__data"],[1,"info__number"],[1,"text-end"],["mode","determinate",3,"value"],[1,"col-lg-12"]],template:function(M,_){if(1&M&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,E,42,12,"ng-container",2),e.YNc(3,b,4,4,"ng-template",null,3,e.W1O),e.YNc(5,A,9,1,"div",4),e.YNc(6,u,2,2,"ng-template",null,5,e.W1O),e.qZA(),e.qZA()),2&M){const z=e.MAs(4),$=e.MAs(7);e.xp6(2),e.Q6J("ngIf",0==_.loading2)("ngIfElse",z),e.xp6(3),e.Q6J("ngIf",0==_.loading2)("ngIfElse",$)}},directives:[Y.O5,S.Hw,a.JU,k.xr,Y.sg,V.pW],styles:[".card[_ngcontent-%COMP%]{height:100%}.inputs-report__content[_ngcontent-%COMP%]{height:100vh;max-height:-webkit-fill-available;padding:10px;overflow-y:auto;overflow-x:hidden}.inputs-report__issued[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px;padding:16px;height:100%}.inputs-report__issued[_ngcontent-%COMP%]   .issued__icon[_ngcontent-%COMP%]   .icon__circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:100%;background:#399CFF;color:#fff}.inputs-report__issued[_ngcontent-%COMP%]   .issued__icon[_ngcontent-%COMP%]   .icon__circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:-4px}.inputs-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info_label[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#5a5d6d;margin-bottom:6px}.inputs-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{display:block;font-size:20px;line-height:22px;font-weight:600;color:#282a35;text-transform:capitalize;margin-bottom:6px}.inputs-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info__subtitle[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5;margin-bottom:6px}.chart__container[_ngcontent-%COMP%]{display:flex;align-items:center}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;margin:auto}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]{display:flex;font-family:Inter}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]{margin-right:6px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__online-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#399CFF}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__physical-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#7F94FF}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:12px;color:#5a5d6d;margin-bottom:7px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:20px;font-weight:700;line-height:22px;color:#282a35;margin-bottom:7px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]   .qty__pct[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:400;color:#5a5d6d}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__balance[_ngcontent-%COMP%]{font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5}.inputs-report__categories[_ngcontent-%COMP%]{padding:16px}.inputs-report__categories[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{--bs-gutter-x: 60px;--bs-gutter-y: 30px}.inputs-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.inputs-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]:first-child{margin-bottom:16px}.inputs-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]:last-child{padding-bottom:25px;border-bottom:1px solid #E5EBF4}.inputs-report__categories[_ngcontent-%COMP%]   .info__label[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5;margin-bottom:6px}.inputs-report__categories[_ngcontent-%COMP%]   .info__data[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:22px;font-weight:600;color:#282a35;text-transform:capitalize;margin-bottom:6px}.inputs-report__categories[_ngcontent-%COMP%]   .info__value[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:22px;font-weight:600;color:#425bff;margin-bottom:6px}.inputs-report__categories[_ngcontent-%COMP%]   .info__value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.inputs-report__categories[_ngcontent-%COMP%]   .info__number[_ngcontent-%COMP%]{display:block;font-size:15px;line-height:20px;font-weight:500;color:#282a35;text-transform:capitalize;margin-bottom:6px}.inputs-report__categories[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:10px;border-radius:2px;margin-bottom:6px}[_nghost-%COMP%]     .inputs-report__categories .mat-progress-bar-background{fill:#c2cfdd}[_nghost-%COMP%]     .inputs-report__categories .mat-progress-bar-buffer{background-color:#c2cfdd}",".row[_ngcontent-%COMP%]{--bs-gutter-x: 10px;--bs-gutter-y: 10px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-height:-webkit-fill-available;-webkit-overflow-scrolling:auto!important;height:100%}.table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > td[_ngcontent-%COMP%], .table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > th[_ngcontent-%COMP%]{background-color:#f5fafe!important}.card[_ngcontent-%COMP%]{width:100%;border:0;border-radius:2px;box-shadow:0 0 10px #3c468729;font-family:Inter}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px;background:#FFFFFF;border-bottom:1px solid #E5EBF4}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:13px;color:#a4a6b5;margin:0}.toggle__button[_ngcontent-%COMP%]{background:white;outline:1px solid gray}"]}),g})()},836:(G,B,c)=>{c.r(B),c.d(B,{InputsReportModule:()=>E});var i=c(9808),e=c(3287),s=c(2597),D=c(5e3);const Y=[{path:"",component:s.D}];let S=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=D.oAB({type:C}),C.\u0275inj=D.cJS({imports:[[e.Bz.forChild(Y)],e.Bz]}),C})();var a=c(5245),k=c(7851),V=c(5899),O=c(6770);let E=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=D.oAB({type:C}),C.\u0275inj=D.cJS({imports:[[i.ez,S,k.a4,a.Ps,O.hx.forRoot(),V.Cv]]}),C})()},374:(G,B,c)=>{c.d(B,{m:()=>b});var i=c(7579),e=c(2722),s=c(5e3),D=c(8285),Y=c(9808);function S(p,A){1&p&&(s.TgZ(0,"div",9),s.TgZ(1,"div",10),s.TgZ(2,"div",11),s.TgZ(3,"span",12),s._uU(4,"Loading..."),s.qZA(),s.qZA(),s.qZA(),s.qZA())}function a(p,A){1&p&&(s.TgZ(0,"div",13),s.TgZ(1,"div",10),s.TgZ(2,"span",14),s._uU(3,"Nenhum pdv encontrado."),s.qZA(),s.qZA(),s.qZA())}function k(p,A){if(1&p&&(s.TgZ(0,"tr"),s.TgZ(1,"td",29),s.TgZ(2,"p",30),s._uU(3),s.qZA(),s.TgZ(4,"p",31),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"td",32),s._uU(7),s.qZA(),s.TgZ(8,"td",33),s._uU(9),s.ALo(10,"number"),s.qZA(),s.TgZ(11,"td",34),s._uU(12),s.qZA(),s.TgZ(13,"td",35),s._uU(14),s.ALo(15,"number"),s.qZA(),s.qZA()),2&p){const u=A.$implicit,x=s.oxw(4);s.xp6(3),s.Oqu(u.ticketName),s.xp6(2),s.AsE("",x.getGender(u.ticketGender)," - ",x.getType(u.ticketType),""),s.xp6(2),s.Oqu(u.nameLot),s.xp6(2),s.hij("R$ ",s.xi3(10,7,u.price,"1.2-2"),""),s.xp6(3),s.Oqu(u.quantity),s.xp6(2),s.hij(" R$ ",s.xi3(15,10,u.amount,"1.2-2")," ")}}function V(p,A){if(1&p&&(s.TgZ(0,"tr",36),s.TgZ(1,"th",37),s._uU(2,"Total de bilhetes "),s.TgZ(3,"b"),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"td",38),s._uU(6),s.qZA(),s.TgZ(7,"td",38),s._uU(8),s.ALo(9,"number"),s.qZA(),s.qZA()),2&p){const u=A.$implicit;s.xp6(4),s.Oqu(u.name),s.xp6(2),s.Oqu(u.quantityTicket),s.xp6(2),s.hij(" R$ ",s.xi3(9,3,u.amountWithoutFee,"1.2-2")," ")}}function O(p,A){if(1&p&&(s.TgZ(0,"div",17),s.TgZ(1,"table",18),s.TgZ(2,"thead"),s.TgZ(3,"tr",19),s.TgZ(4,"th",20),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"tr",21),s.TgZ(7,"th",22),s._uU(8,"Ingresso"),s.qZA(),s.TgZ(9,"th",23),s._uU(10,"Lote"),s.qZA(),s.TgZ(11,"th",23),s._uU(12,"Valor unit."),s.qZA(),s.TgZ(13,"th",23),s._uU(14,"Qtd."),s.qZA(),s.TgZ(15,"th",23),s._uU(16,"Valor ingressos"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(17,"tbody"),s.YNc(18,k,16,13,"tr",15),s.qZA(),s.TgZ(19,"tfoot"),s.TgZ(20,"tr",24),s.TgZ(21,"th",25),s._uU(22,"Total bilhetes"),s.qZA(),s.TgZ(23,"td",26),s._uU(24),s.qZA(),s.TgZ(25,"td",27),s._uU(26),s.ALo(27,"number"),s.qZA(),s.qZA(),s.YNc(28,V,10,6,"tr",28),s.qZA(),s.qZA(),s.qZA()),2&p){const u=s.oxw().$implicit,x=s.oxw(2);s.xp6(5),s.Oqu(u.pdvName),s.xp6(13),s.Q6J("ngForOf",u.ticketsSell),s.xp6(6),s.Oqu(x.getTicketTotal(u.ticketsSell).quantity),s.xp6(2),s.hij(" R$ ",s.xi3(27,5,x.getTicketTotal(u.ticketsSell).amount,"1.2-2")," "),s.xp6(2),s.Q6J("ngForOf",u.payments)}}function E(p,A){if(1&p&&(s.TgZ(0,"div"),s.YNc(1,O,29,8,"div",16),s.qZA()),2&p){const u=A.$implicit;s.xp6(1),s.Q6J("ngIf",u.ticketsSell.length>0)}}function C(p,A){if(1&p&&(s.TgZ(0,"div",13),s.YNc(1,E,2,1,"div",15),s.qZA()),2&p){const u=s.oxw();s.xp6(1),s.Q6J("ngForOf",u.information)}}let b=(()=>{class p{constructor(u){this.reportService=u,this.param={},this.loading=!1,this.unsubscribe$=new i.x,this.filters=[{eventId:""}]}ngOnInit(){console.log(this.information)}ngOnDestroy(){this.unsubscribe$.next(""),this.unsubscribe$.complete()}ngOnChanges(u){console.log(u),this.information=u.information.currentValue,console.log(this.information)}getGender(u){var x;return null===(x=new Array({name:"Male",description:"Masculino"},{name:"Female",description:"Feminino"},{name:"Undefined",description:"Unissex"}).find(g=>g.name==u))||void 0===x?void 0:x.description}getType(u){var x;return null===(x=new Array({name:"Both",description:"Meia/Inteira"},{name:"Half",description:"Meia"},{name:"Full",description:"Inteira"},{name:"Courtesy",description:"Cortesia"},{name:"Gratuity",description:"Gratuidade"}).find(g=>g.name==u))||void 0===x?void 0:x.description}getTicketTotal(u){return{amount:u.reduce((x,g)=>x+g.amount,0),amountFee:u.reduce((x,g)=>x+g.amountFee,0),amountWithFee:u.reduce((x,g)=>x+g.amountWithFee,0),quantity:u.reduce((x,g)=>x+g.quantity,0)}}exportXLS(){this.loading=!0,this.filters.eventId=this.eventId,this.reportService.exportSalesPDVByEvent(this.filters).pipe((0,e.R)(this.unsubscribe$)).subscribe({next:u=>{this.loading=!1;const x=URL.createObjectURL(u),g=document.createElement("a");g.href=x,g.download="pdv.xls",document.body.appendChild(g),g.click(),document.body.removeChild(g)},error:()=>{this.loading=!1}})}}return p.\u0275fac=function(u){return new(u||p)(s.Y36(D.r))},p.\u0275cmp=s.Xpm({type:p,selectors:[["app-pdv-report"]],inputs:{information:"information",eventId:"eventId"},features:[s.TTD],decls:11,vars:4,consts:[[1,"row","py-4","me-3","ms-3",2,"height","100vh"],[1,"col-sm-12","mb-3","animated","fadeIn"],[1,"d-flex","justify-content-between","gap-2","mb-3"],[1,"col-md-12"],[1,"text-right"],[1,"btn","mb-3","btn-primary","pull-right",3,"disabled","click"],[1,"fa","fa-file-pdf-o"],["class","col-sm-12",4,"ngIf"],["class","col-sm-12 animated fadeIn",4,"ngIf"],[1,"col-sm-12"],[1,"d-flex","justify-content-center","pt-2","pb-5"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"col-sm-12","animated","fadeIn"],[1,"fs-6"],[4,"ngFor","ngForOf"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-borderless","table-sm",2,"border","1px solid #c5c4c4"],[1,"table-active","py-3"],["colspan","100%",1,"text-center","pb-3","pt-3"],[1,"ps-3","pe-3","mt-3","pt-3","pb-3","mb-3"],[1,"ps-3","pt-3","pb-3","pe-3"],[1,"text-center","pt-3","pb-3","ps-3","pe-3"],[1,"ps-3",2,"border","1px solid #c5c4c4"],["colspan","3",1,"align-middle","pt-3","ps-3","pe-3"],[1,"align-middle","ps-3","text-center","pt-3"],[1,"align-middle","ps-3","text-center","text-nowrap","pt-3"],["style","border: 1px solid #c5c4c4;","class","ps-3 pe-3",4,"ngFor","ngForOf"],[1,"align-middle","pt-3","pb-3"],[1,"fs-6","m-0","ps-3","pe-3"],[1,"m-0","ps-3","pe-3"],[1,"align-middle","text-center","ps-3","pe-3"],[1,"align-middle","text-center","text-nowrap"],[1,"align-middle","text-center"],[1,"align-middle","text-center","ps-3","pe-3","text-nowrap"],[1,"ps-3","pe-3",2,"border","1px solid #c5c4c4"],["colspan","3",1,"align-middle","ps-3"],[1,"align-middle","ps-3","text-center"]],template:function(u,x){1&u&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s.TgZ(5,"button",5),s.NdJ("click",function(){return x.exportXLS()}),s._UZ(6,"i",6),s._uU(7," Exportar em XLS "),s.qZA(),s.qZA(),s.qZA(),s.YNc(8,S,5,0,"div",7),s.YNc(9,a,4,0,"div",8),s.YNc(10,C,2,1,"div",8),s.qZA()),2&u&&(s.xp6(5),s.Q6J("disabled",1==x.loading),s.xp6(3),s.Q6J("ngIf",!x.information),s.xp6(1),s.Q6J("ngIf",x.information&&0==x.information.length),s.xp6(1),s.Q6J("ngIf",x.information))},directives:[Y.O5,Y.sg],pipes:[Y.JJ],styles:[""]}),p})()},1774:(G,B,c)=>{c.r(B),c.d(B,{PdvReportModule:()=>C});var i=c(9808),e=c(5245),s=c(7851),D=c(3287),Y=c(374),S=c(5e3);const a=[{path:"",component:Y.m}];let k=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[D.Bz.forChild(a)],D.Bz]}),b})();var V=c(1268),O=c(6770),E=c(5899);let C=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[i.ez,O.hx,E.Cv,V.F,k,s.a4,e.Ps]]}),b})()},1329:(G,B,c)=>{c.d(B,{q:()=>b});var i=c(5e3),e=c(9808),s=c(7851),D=c(6770),Y=c(5899);const S=function(p,A){return[p,A]};function a(p,A){if(1&p&&(i.ynx(0),i.TgZ(1,"div",6),i.TgZ(2,"div",7),i.TgZ(3,"div",8),i.TgZ(4,"h4",9),i._uU(5,"Resumo vendidos e n\xe3o vendidos"),i.qZA(),i.qZA(),i.TgZ(6,"div",10),i.TgZ(7,"div",11,12),i._UZ(9,"ngx-charts-pie-chart",13),i.TgZ(10,"div",14),i.TgZ(11,"div",15),i.TgZ(12,"div",16),i._UZ(13,"span",17),i.qZA(),i.TgZ(14,"div",18),i.TgZ(15,"div",19),i._uU(16,"Vendidos"),i.qZA(),i.TgZ(17,"div",20),i._uU(18),i.qZA(),i.TgZ(19,"div",21),i.TgZ(20,"span",22),i._uU(21),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(22,"div",15),i.TgZ(23,"div",16),i._UZ(24,"span",23),i.qZA(),i.TgZ(25,"div",18),i.TgZ(26,"div",19),i._uU(27,"N\xe3o vendidos"),i.qZA(),i.TgZ(28,"div",20),i._uU(29),i.qZA(),i.TgZ(30,"div",21),i.TgZ(31,"span",22),i._uU(32),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&p){const u=i.MAs(8),x=i.oxw();i.xp6(9),i.Q6J("view",i.WLB(10,S,.275*u.offsetWidth,.275*u.offsetWidth))("scheme",x.colorScheme)("doughnut",!0)("legend",!1)("results",x.chartSells)("gradient",!0),i.xp6(9),i.hij(" ",x.quantitySell," "),i.xp6(3),i.hij("",x.quantitySellPercent,"%"),i.xp6(8),i.hij(" ",x.quantityNoSell," "),i.xp6(3),i.hij("",x.quantityNoSellPercent,"%")}}const k=function(){return{width:"100%",height:"200px"}};function V(p,A){1&p&&(i.TgZ(0,"div",24),i._UZ(1,"ngx-skeleton-loader",25),i.qZA(),i.TgZ(2,"div",24),i._UZ(3,"ngx-skeleton-loader",25),i.qZA()),2&p&&(i.xp6(1),i.Q6J("theme",i.DdM(2,k)),i.xp6(2),i.Q6J("theme",i.DdM(3,k)))}function O(p,A){if(1&p&&(i.ynx(0),i.TgZ(1,"div",29),i.TgZ(2,"div",30),i.TgZ(3,"div"),i.TgZ(4,"span",31),i._uU(5,"Setor"),i.qZA(),i.TgZ(6,"span",32),i._uU(7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",30),i.TgZ(9,"div"),i.TgZ(10,"span",31),i._uU(11,"Vendidos"),i.qZA(),i.TgZ(12,"span",22),i._uU(13),i.qZA(),i.qZA(),i.TgZ(14,"div",21),i.TgZ(15,"span",31),i._uU(16,"N\xe3o vendidos"),i.qZA(),i.TgZ(17,"span",22),i._uU(18),i.qZA(),i.qZA(),i.qZA(),i._UZ(19,"mat-progress-bar",33),i.TgZ(20,"div",30),i.TgZ(21,"div"),i.TgZ(22,"span",22),i._uU(23),i.qZA(),i.qZA(),i.TgZ(24,"div"),i._UZ(25,"span",22),i.qZA(),i.TgZ(26,"div",21),i.TgZ(27,"span",22),i._uU(28),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.BQk()),2&p){const u=A.$implicit;i.xp6(7),i.Oqu(u.name),i.xp6(6),i.Oqu(u.quantitySell),i.xp6(5),i.Oqu(u.quantity-u.quantitySell),i.xp6(1),i.s9C("value",u.quantitySellPercent),i.xp6(4),i.hij("",u.quantitySellPercent,"% dos ingressos vendidos"),i.xp6(5),i.hij("",u.quantityNoSellPercent,"% dos ingressos n\xe3o vendidos")}}function E(p,A){if(1&p&&(i.TgZ(0,"div",26),i.TgZ(1,"div",7),i.TgZ(2,"div",8),i.TgZ(3,"h4",9),i._uU(4,"Resumo vendidos e n\xe3o vendidos"),i.qZA(),i.qZA(),i.TgZ(5,"div",10),i.TgZ(6,"div",27),i.TgZ(7,"div",1),i.YNc(8,O,29,6,"ng-container",28),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&p){const u=i.oxw();i.xp6(8),i.Q6J("ngForOf",u.informationPerSector)}}function C(p,A){1&p&&(i.TgZ(0,"div",34),i._UZ(1,"ngx-skeleton-loader",25),i.qZA()),2&p&&(i.xp6(1),i.Q6J("theme",i.DdM(1,k)))}let b=(()=>{class p{constructor(){this.informationPerSector=[],this.quantityNoSellPercent=0,this.quantitySellPercent=0,this.quantitySell=0,this.quantityNoSell=0,this.amountSell=0,this.amountNoSell=0,this.loading2=!1,this.colorScheme={domain:["#425BFF","#C2CFDD"]},this.chartSells=[{name:"Vendidos",value:1},{name:"N\xe3o vendidos",value:1}]}ngOnInit(){this.getQuantityReport()}ngOnChanges(u){this.information=u.information.currentValue,this.getQuantityReport()}getQuantityReport(){this.reloadEverything();let u=0,x=0,g=0,U=0;this.information.sectorsSell.forEach(_=>{console.log(_),u+=_.quantity,x+=_.quantitySell,_.quantity>_.quantitySell&&(g+=_.quantity-_.quantitySell),U+=_.quantitySell,this.amountSell=0,this.amountNoSell=0,this.informationPerSector[this.informationPerSector.length]={name:_.name,id:_.id,amount:_.amountSell,quantity:_.quantity,quantitySell:_.quantitySell,quantitySellPercent:this.calculatePercentage(_.quantitySell,_.quantity-_.quantitySell+_.quantitySell),quantityNoSellPercent:this.calculatePercentage(_.quantity-_.quantitySell,_.quantity-_.quantitySell+_.quantitySell)}}),this.quantitySell=x,this.quantityNoSell=g,this.quantitySellPercent=this.calculatePercentage(x,g+x),this.quantityNoSellPercent=this.calculatePercentage(g,g+x),this.chartSells[0].value=this.quantitySell,this.chartSells[1].value=this.quantityNoSell}calculatePercentage(u,x){let g=parseFloat(u/x*100).toFixed(2).replace(/\.00$/,"");return"Infinity"==g?100:"-Infinity"==g?0:parseFloat(u/x*100).toFixed(2).replace(/\.00$/,"")}reloadEverything(){this.informationPerSector.length=0}}return p.\u0275fac=function(u){return new(u||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-quantity-report"]],inputs:{information:"information"},features:[i.TTD],decls:8,vars:4,consts:[[1,"quantity-report__content"],[1,"row"],[4,"ngIf","ngIfElse"],["showLoading",""],["class","col-sm-12 col-md-12",4,"ngIf","ngIfElse"],["showLoading2",""],[1,"col-lg-12","col-md-6"],[1,"card"],[1,"card-header"],[1,"card-subtitle"],[1,"card-body"],[1,"chart__container"],["pieChart",""],[3,"view","scheme","doughnut","legend","results","gradient"],[1,"pie-chart__legend"],[1,"legend__legend-item"],[1,"legend-item__color"],[1,"color__online-sales"],[1,"legend-item__info"],[1,"info__title"],[1,"info__qty"],[1,"text-end"],[1,"info__number"],[1,"color__physical-sales"],[1,"col-sm-12","col-md-6"],[3,"theme"],[1,"col-sm-12","col-md-12"],[1,"quantity-report__categories"],[4,"ngFor","ngForOf"],[1,"col-sm-6"],[1,"categories__row"],[1,"info__label"],[1,"info__data"],["mode","determinate",3,"value"],[1,"col-lg-12"]],template:function(u,x){if(1&u&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.YNc(2,a,33,13,"ng-container",2),i.YNc(3,V,4,4,"ng-template",null,3,i.W1O),i.YNc(5,E,9,1,"div",4),i.YNc(6,C,2,2,"ng-template",null,5,i.W1O),i.qZA(),i.qZA()),2&u){const g=i.MAs(4),U=i.MAs(7);i.xp6(2),i.Q6J("ngIf",0==x.loading2)("ngIfElse",g),i.xp6(3),i.Q6J("ngIf",0==x.loading2)("ngIfElse",U)}},directives:[e.O5,s.JU,D.xr,e.sg,Y.pW],styles:[".card[_ngcontent-%COMP%]{height:100%}.quantity-report__content[_ngcontent-%COMP%]{height:100vh;max-height:-webkit-fill-available;padding:10px;overflow-y:auto;overflow-x:hidden}.quantity-report__issued[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px;padding:16px;height:100%}.quantity-report__issued[_ngcontent-%COMP%]   .issued__icon[_ngcontent-%COMP%]   .icon__circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:100%;background:#399CFF;color:#fff}.quantity-report__issued[_ngcontent-%COMP%]   .issued__icon[_ngcontent-%COMP%]   .icon__circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:-4px}.quantity-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info_label[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#5a5d6d;margin-bottom:6px}.quantity-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{display:block;font-size:20px;line-height:22px;font-weight:600;color:#282a35;text-transform:capitalize;margin-bottom:6px}.quantity-report__issued[_ngcontent-%COMP%]   .issued__info[_ngcontent-%COMP%]   .info__subtitle[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5;margin-bottom:6px}.chart__container[_ngcontent-%COMP%]{display:flex;align-items:center}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;margin:auto}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]{display:flex;font-family:Inter}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]{margin-right:6px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__online-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#399CFF}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__physical-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#7F94FF}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:12px;color:#5a5d6d;margin-bottom:7px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:20px;font-weight:700;line-height:22px;color:#282a35;margin-bottom:7px}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]   .qty__pct[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:400;color:#5a5d6d}.chart__container[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__balance[_ngcontent-%COMP%]{font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5}.quantity-report__categories[_ngcontent-%COMP%]{padding:16px}.quantity-report__categories[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{--bs-gutter-x: 60px;--bs-gutter-y: 30px}.quantity-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.quantity-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]:first-child{margin-bottom:16px}.quantity-report__categories[_ngcontent-%COMP%]   .categories__row[_ngcontent-%COMP%]:last-child{padding-bottom:25px;border-bottom:1px solid #E5EBF4}.quantity-report__categories[_ngcontent-%COMP%]   .info__label[_ngcontent-%COMP%]{display:block;font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5;margin-bottom:6px}.quantity-report__categories[_ngcontent-%COMP%]   .info__data[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:22px;font-weight:600;color:#282a35;text-transform:capitalize;margin-bottom:6px}.quantity-report__categories[_ngcontent-%COMP%]   .info__value[_ngcontent-%COMP%]{display:block;font-size:16px;line-height:22px;font-weight:600;color:#425bff;margin-bottom:6px}.quantity-report__categories[_ngcontent-%COMP%]   .info__value[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.quantity-report__categories[_ngcontent-%COMP%]   .info__number[_ngcontent-%COMP%]{display:block;font-size:15px;line-height:20px;font-weight:500;color:#282a35;text-transform:capitalize;margin-bottom:6px}.quantity-report__categories[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{height:10px;border-radius:2px;margin-bottom:6px}[_nghost-%COMP%]     .quantity-report__categories .mat-progress-bar-background{fill:#c2cfdd}[_nghost-%COMP%]     .quantity-report__categories .mat-progress-bar-buffer{background-color:#c2cfdd}",".row[_ngcontent-%COMP%]{--bs-gutter-x: 10px;--bs-gutter-y: 10px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-height:-webkit-fill-available;-webkit-overflow-scrolling:auto!important;height:100%}.table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > td[_ngcontent-%COMP%], .table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > th[_ngcontent-%COMP%]{background-color:#f5fafe!important}.card[_ngcontent-%COMP%]{width:100%;border:0;border-radius:2px;box-shadow:0 0 10px #3c468729;font-family:Inter}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px;background:#FFFFFF;border-bottom:1px solid #E5EBF4}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:13px;color:#a4a6b5;margin:0}.toggle__button[_ngcontent-%COMP%]{background:white;outline:1px solid gray}"]}),p})()},2897:(G,B,c)=>{c.r(B),c.d(B,{QuantityReportModule:()=>C});var i=c(9808),e=c(5245),s=c(7851),D=c(3287),Y=c(1329),S=c(5e3);const a=[{path:"",component:Y.q}];let k=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[D.Bz.forChild(a)],D.Bz]}),b})();var V=c(1268),O=c(6770),E=c(5899);let C=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[i.ez,O.hx,E.Cv,V.F,k,s.a4,e.Ps]]}),b})()},304:(G,B,c)=>{c.r(B),c.d(B,{ReportsModule:()=>ga});var i=c(9808),e=c(3287),s=c(7579),D=c(2722),Y=c(9646),S=c(262),a=c(5e3),k=c(9422),V=c(8285),O=c(3696),E=c(4920),C=c(2638),b=c(2319),p=c(7423),A=c(3251),u=c(238),x=c(6770),g=c(1329),U=c(374),M=c(2597),_=c(5966),z=c(3583),$=c(2983),j=c.n($),ae=c(7556),K=c(8111);let Oe=(()=>{class r{constructor(t,n,o){this.reportService=t,this.authService=n,this.generalHelper=o,this.loading=!1,this.eventId=""}ngOnInit(){}masterCodeEntryBySector(t){return this.masterCodeEntry.filter(n=>n.sectorId==t)}exportBordero(){let t={withFees:!1,eventId:this.eventId,orderStatus:["Approved"],ticketStatus:["Generated"]};this.loading=!0,this.reportService.salesByEvent(t).subscribe(n=>{console.log(n),this.reportService.listEvent({id:this.eventId}).subscribe(o=>{console.log(o),this.reportService.entryMifares(t).subscribe(l=>{console.log(l),this.reportService.getSalesST(t).subscribe(m=>{console.log(m),this.reportService.getSalesSTPP(t).subscribe(T=>{console.log(T),this.reportService.entries(t).subscribe(I=>{console.log(I),this.loading=!1;let Q=n,se=o[0],ye=(this.authService.getProducer().user.company.images.logopdv||this.authService.getProducer(),m),be=T,X=I,de=0,ee=0,te=0,W=0,ge=0,Ce=0,Z=[];if(Q.ticketsSell&&Q.ticketsSell.length>0){let re=function(L){return{content:L,styles:{fontStyle:"bold"}}};Z[Z.length]=[{content:"VENDAS",colSpan:5,styles:{halign:"center",fontSize:18}}],Z[Z.length]=["Localidades","Vendidos","Pre\xe7. Unit\xe1rio","Arrecada\xe7\xe3o"],Q.ticketsSell.forEach((L,J)=>{let q=L.tickets.filter(R=>-1==["Courtesy","Gratuity"].indexOf(R.type));q=q.sort(function(R,xe){return R.name>xe.name?1:xe.name>R.name?-1:0}),q.forEach((R,xe)=>{Z.push([R.name,R.quantitySell,this.generalHelper.toCurrency(R.lotPrice),this.generalHelper.toCurrency(R.amountWithoutFee)]),ee+=R.quantitySell,te+=R.amountWithoutFee})}),Z[Z.length]=[{content:"TOTAL",styles:{halign:"right",fontSize:15,bold:!0}},re(ee),"",re(this.generalHelper.toCurrency(te))],Z[Z.length]=[{content:"GRATUIDADES",colSpan:5,styles:{halign:"center",fontSize:18}}];let Ne=0;if(Q.ticketsSell.forEach((L,J)=>{L.tickets.filter(R=>"Gratuity"==R.type).forEach((R,xe)=>{Z[Z.length]=[R.name,R.quantitySell,R.lotPrice>0?this.generalHelper.toCurrency(R.lotPrice):"",R.amountWithoutFee>0?this.generalHelper.toCurrency(R.amountWithoutFee):""],Ne+=R.amountWithoutFee,W+=R.quantitySell,de+=R.quantitySell})}),Z.push([{content:"TOTAL",styles:{halign:"right",fontSize:15,bold:!0}},re(de),"",re(Ne>0?this.generalHelper.toCurrency(te):"")]),Q.ticketsSell.forEach((L,J)=>{L.tickets.filter(R=>"Courtesy"==R.type).forEach((R,xe)=>{ge+=R.quantitySell,W+=R.quantitySell})}),ye&&ye.length>0){Z.push([{content:"S\xd3CIOS TORCEDORES",colSpan:5,styles:{halign:"center",fontSize:18}}]);let L=0,J=0;ye.forEach((q,R)=>{Z[Z.length]=[q.name,q.qtt,this.generalHelper.toCurrency(q.valueUnit),this.generalHelper.toCurrency(q.valueTotal)],q.qtt=parseInt("0"+q.qtt),q.valueTotal=parseFloat("0"+q.valueTotal),ee+=q.qtt,te+=q.valueTotal,L+=q.qtt,J+=q.valueTotal}),Z[Z.length]=[{content:"TOTAL DE S\xd3CIOS",styles:{halign:"right",fontSize:9,bold:!0}},re(L),"",re(this.generalHelper.toCurrency(J))],Z[Z.length]=[{content:"* TOTAL DE CARTERINHAS LIDAS: "+L,styles:{halign:"right",fontSize:9}},"","",""]}if(be&&be.length>0){Z.push([{content:"S\xd3CIOS TORCEDORES",colSpan:5,styles:{halign:"center",fontSize:18}}]);let L=0,J=0;be.forEach((q,R)=>{Z[Z.length]=[q.sectorName,q.quantity,this.generalHelper.toCurrency(q.unitPrice),this.generalHelper.toCurrency(q.amount)],ee+=parseInt(q.quantity),te+=parseFloat(q.amount),L+=parseInt(q.quantity),J+=parseFloat(q.amount)}),Z[Z.length]=[{content:"TOTAL DE S\xd3CIOS",styles:{halign:"right",fontSize:9,bold:!0}},re(L),"",re(this.generalHelper.toCurrency(J))],Z[Z.length]=[{content:"* TOTAL DE CARTERINHAS LIDAS: "+L,styles:{halign:"right",fontSize:9}},"","",""]}if(X&&X.orderEntry.length>0){console.log(Ce);var Ue=X.orderEntry;this.masterCodeEntry=X.mifareEntry,Ue.forEach((L,J)=>{Ce+=L.tickets.reduce((q,R)=>q+R.quantityEntries,0),Ue[J].total={quantitySales:L.tickets.reduce((q,R)=>q+R.quantitySales,0),quantityEntries:L.tickets.reduce((q,R)=>q+R.quantityEntries,0)+this.masterCodeEntryBySector(L.sectorId).reduce((q,R)=>q+parseInt(R.qtdEntry),0),amountWithoutFeeEntries:L.tickets.reduce((q,R)=>q+R.amountWithoutFeeEntries,0)}}),Ce+=X.othersEntry,Ce+=this.masterCodeEntry.reduce((L,J)=>L+parseFloat(J.qtdEntry),0)}Z[Z.length]=[{content:"TOTAIS",colSpan:5,styles:{halign:"center",fontSize:18}}],Z[Z.length]=[{content:"CORTESIAS",styles:{fontSize:12}},{content:ge,colspan:3}],Z[Z.length]=[{content:"TOTAL DE GRATUIDADES",styles:{fontSize:12}},{content:de,colspan:3}],Z[Z.length]=[{content:"TOTAL DE N\xc3O-PAGANTES",styles:{fontSize:15}},W,{content:"",colspan:3}],Z[Z.length]=[{content:"TOTAL DE PAGANTES",styles:{fontSize:15}},ee,"",this.generalHelper.toCurrency(te)],Z[Z.length]=[{content:"PUBLICO TOTAL",styles:{fontSize:15}},{content:ee+W,colspan:3}],Z[Z.length]=[{content:"TOTAL DE ENTRADAS",styles:{fontSize:15}},{content:Ce,colspan:3}],Z[Z.length]=["","","",""],Z[Z.length]=["","","",{content:"__________________________\nRespons\xe1vel T\xe9cnico",styles:{halign:"center"}}];var ce=new z.default;ce.setFont("Arial"),ce.setFontSize(25),ce.text(se.name,15,30),ce.setFontSize(12),ce.text(this.generalHelper.dateTimeBR(new Date),15,35),console.log(Z),j()(ce,{startY:40,tableWidth:"wrap",head:[],body:Z}),ce.save("relatorio-bordero.pdf")}})})})})})})}}return r.\u0275fac=function(t){return new(t||r)(a.Y36(V.r),a.Y36(ae.e),a.Y36(K.k))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-bordero-report"]],inputs:{eventId:"eventId"},decls:5,vars:1,consts:[[1,"row","py-4","me-3","ms-3","justify-content-center",2,"height","100vh"],[1,"mx-auto","w-75","mt-5","5"],[1,"btn","mb-3","btn-primary","w-100","h-25","mx-auto",3,"disabled","click"],[1,"fa","fa-file-pdf-o",2,"font-size","33px"]],template:function(t,n){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return n.exportBordero()}),a._UZ(3,"i",3),a._uU(4," Exportar em PDF "),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("disabled",1==n.loading))},styles:[""]}),r})();var pe=c(5245),ne=c(7322),ie=c(9776),N=c(508),_e=c(9071),me=c(5664),oe=c(3191),y=c(449),P=c(1159),h=c(3075),f=c(9770),v=c(6451),w=c(8675),H=c(3900),Pe=c(5698),Ee=c(9300),ke=c(4004),Le=c(1884),F=c(1777),Qe=c(226);const ze=["trigger"],je=["panel"];function We(r,d){if(1&r&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&r){const t=a.oxw();a.xp6(1),a.Oqu(t.placeholder)}}function He(r,d){if(1&r&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&r){const t=a.oxw(2);a.xp6(1),a.Oqu(t.triggerValue)}}function Ge(r,d){1&r&&a.Hsn(0,0,["*ngSwitchCase","true"])}function $e(r,d){if(1&r&&(a.TgZ(0,"span",9),a.YNc(1,He,2,1,"span",10),a.YNc(2,Ge,1,0,"ng-content",11),a.qZA()),2&r){const t=a.oxw();a.Q6J("ngSwitch",!!t.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function Je(r,d){if(1&r){const t=a.EpF();a.TgZ(0,"div",13),a.TgZ(1,"div",14,15),a.NdJ("@transformPanel.done",function(o){return a.CHM(t),a.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return a.CHM(t),a.oxw()._handleKeydown(o)}),a.Hsn(3,1),a.qZA(),a.qZA()}if(2&r){const t=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",t._getPanelTheme(),""),a.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),a.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),a.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Ke=[[["mat-select-trigger"]],"*"],Xe=["mat-select-trigger","*"],Ie={transformPanelWrap:(0,F.X$)("transformPanelWrap",[(0,F.eR)("* => void",(0,F.IO)("@transformPanel",[(0,F.pV)()],{optional:!0}))]),transformPanel:(0,F.X$)("transformPanel",[(0,F.SB)("void",(0,F.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,F.SB)("showing",(0,F.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,F.SB)("showing-multiple",(0,F.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,F.eR)("void => *",(0,F.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,F.eR)("* => void",(0,F.jt)("100ms 25ms linear",(0,F.oB)({opacity:0})))])};let Re=0;const qe=new a.OlP("mat-select-scroll-strategy"),nt=new a.OlP("MAT_SELECT_CONFIG"),it={provide:qe,deps:[ie.aV],useFactory:function at(r){return()=>r.scrollStrategies.reposition()}};class rt{constructor(d,t){this.source=d,this.value=t}}const ot=(0,N.Kr)((0,N.sb)((0,N.Id)((0,N.FD)(class{constructor(r,d,t,n,o){this._elementRef=r,this._defaultErrorStateMatcher=d,this._parentForm=t,this._parentFormGroup=n,this.ngControl=o}})))),st=new a.OlP("MatSelectTrigger");let lt=(()=>{class r extends ot{constructor(t,n,o,l,m,T,I,Q,se,le,Se,ye,be,X){var de,ee,te;super(m,l,I,Q,le),this._viewportRuler=t,this._changeDetectorRef=n,this._ngZone=o,this._dir=T,this._parentFormField=se,this._liveAnnouncer=be,this._defaultOptions=X,this._panelOpen=!1,this._compareWith=(W,ge)=>W===ge,this._uid="mat-select-"+Re++,this._triggerAriaLabelledBy=null,this._destroy=new s.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Re++,this._panelDoneAnimatingStream=new s.x,this._overlayPanelClass=(null===(de=this._defaultOptions)||void 0===de?void 0:de.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(te=null===(ee=this._defaultOptions)||void 0===ee?void 0:ee.disableOptionCentering)&&void 0!==te&&te,this.ariaLabel="",this.optionSelectionChanges=(0,f.P)(()=>{const W=this.options;return W?W.changes.pipe((0,w.O)(W),(0,H.w)(()=>(0,v.T)(...W.map(ge=>ge.onSelectionChange)))):this._ngZone.onStable.pipe((0,Pe.q)(1),(0,H.w)(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe((0,Ee.h)(W=>W),(0,ke.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ee.h)(W=>!W),(0,ke.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==X?void 0:X.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=X.typeaheadDebounceInterval),this._scrollStrategyFactory=ye,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Se)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,n,o,l;return null!==(l=null!==(t=this._required)&&void 0!==t?t:null===(o=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===o?void 0:o.hasValidator(h.kI.required))&&void 0!==l&&l}set required(t){this._required=(0,oe.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,oe.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,oe.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,oe.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new y.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Le.x)(),(0,D.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,D.R)(this._destroy)).subscribe(t=>{t.added.forEach(n=>n.select()),t.removed.forEach(n=>n.deselect())}),this.options.changes.pipe((0,w.O)(null),(0,D.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),n=this.ngControl;if(t!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,n;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const n=t.keyCode,o=n===P.JH||n===P.LH||n===P.oh||n===P.SV,l=n===P.K5||n===P.L_,m=this._keyManager;if(!m.isTyping()&&l&&!(0,P.Vb)(t)||(this.multiple||t.altKey)&&o)t.preventDefault(),this.open();else if(!this.multiple){const T=this.selected;m.onKeydown(t);const I=this.selected;I&&T!==I&&this._liveAnnouncer.announce(I.viewValue,1e4)}}_handleOpenKeydown(t){const n=this._keyManager,o=t.keyCode,l=o===P.JH||o===P.LH,m=n.isTyping();if(l&&t.altKey)t.preventDefault(),this.close();else if(m||o!==P.K5&&o!==P.L_||!n.activeItem||(0,P.Vb)(t))if(!m&&this._multiple&&o===P.A&&t.ctrlKey){t.preventDefault();const T=this.options.some(I=>!I.disabled&&!I.selected);this.options.forEach(I=>{I.disabled||(T?I.select():I.deselect())})}else{const T=n.activeItemIndex;n.onKeydown(t),this._multiple&&l&&t.shiftKey&&n.activeItem&&n.activeItemIndex!==T&&n.activeItem._selectViaInteraction()}else t.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Pe.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(t);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const n=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,t)}catch(l){return!1}});return n&&this._selectionModel.select(n),n}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new me.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,D.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,D.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,v.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,D.R)(t)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,v.T)(...this.options.map(n=>n._stateChanges)).pipe((0,D.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,n){const o=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(o!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),n&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),n&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),o!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((n,o)=>this.sortComparator?this.sortComparator(n,o,t):t.indexOf(n)-t.indexOf(o)),this.stateChanges.next()}}_propagateChanges(t){let n=null;n=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:t,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const n=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let o=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(t){return new(t||r)(a.Y36(_e.rL),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(N.rD),a.Y36(a.SBq),a.Y36(Qe.Is,8),a.Y36(h.F,8),a.Y36(h.sg,8),a.Y36(ne.G_,8),a.Y36(h.a5,10),a.$8M("tabindex"),a.Y36(qe),a.Y36(me.Kd),a.Y36(nt,8))},r.\u0275dir=a.lG2({type:r,viewQuery:function(t,n){if(1&t&&(a.Gf(ze,5),a.Gf(je,5),a.Gf(ie.pI,5)),2&t){let o;a.iGM(o=a.CRH())&&(n.trigger=o.first),a.iGM(o=a.CRH())&&(n.panel=o.first),a.iGM(o=a.CRH())&&(n._overlayDir=o.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),r})(),dt=(()=>{class r extends lt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,n,o){const l=this._getItemHeight();return Math.min(Math.max(0,l*t-n+l/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,D.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Pe.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const n=(0,N.CB)(t,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===n?0:(0,N.jH)((t+n)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new rt(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),o=this._isRtl(),l=this.multiple?56:32;let m;if(this.multiple)m=40;else if(this.disableOptionCentering)m=16;else{let Q=this._selectionModel.selected[0]||this.options.first;m=Q&&Q.group?32:16}o||(m*=-1);const T=0-(t.left+m-(o?l:0)),I=t.right+m-n.width+(o?0:l);T>0?m+=T+8:I>0&&(m-=I+8),this._overlayDir.offsetX=Math.round(m),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,n,o){const l=this._getItemHeight(),m=(l-this._triggerRect.height)/2,T=Math.floor(256/l);let I;return this.disableOptionCentering?0:(I=0===this._scrollTop?t*l:this._scrollTop===o?(t-(this._getItemCount()-T))*l+(l-(this._getItemCount()*l-256)%l):n-l/2,Math.round(-1*I-m))}_checkOverlayWithinViewport(t){const n=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,m=o.height-this._triggerRect.bottom-8,T=Math.abs(this._offsetY),Q=Math.min(this._getItemCount()*n,256)-T-this._triggerRect.height;Q>m?this._adjustPanelUp(Q,m):T>l?this._adjustPanelDown(T,l,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,n){const o=Math.round(t-n);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,n,o){const l=Math.round(t-n);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),n=this._getItemCount(),o=Math.min(n*t,256),m=n*t-o;let T;T=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),T+=(0,N.CB)(T,this.options,this.optionGroups);const I=o/2;this._scrollTop=this._calculateOverlayScroll(T,I,m),this._offsetY=this._calculateOverlayOffsetY(T,I,m),this._checkOverlayWithinViewport(m)}_getOriginBasedOnOption(){const t=this._getItemHeight(),n=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let d;return function(n){return(d||(d=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(t,n,o){if(1&t&&(a.Suo(o,st,5),a.Suo(o,N.ey,5),a.Suo(o,N.K7,5)),2&t){let l;a.iGM(l=a.CRH())&&(n.customTrigger=l.first),a.iGM(l=a.CRH())&&(n.options=l),a.iGM(l=a.CRH())&&(n.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,n){1&t&&a.NdJ("keydown",function(l){return n._handleKeydown(l)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&t&&(a.uIk("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),a.ekj("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:ne.Eo,useExisting:r},{provide:N.HF,useExisting:r}]),a.qOj],ngContentSelectors:Xe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,n){if(1&t&&(a.F$t(Ke),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return n.toggle()}),a.TgZ(3,"div",2),a.YNc(4,We,2,1,"span",3),a.YNc(5,$e,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA(),a.qZA(),a.YNc(8,Je,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&t){const o=a.MAs(1);a.uIk("aria-owns",n.panelOpen?n.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",n.empty),a.uIk("id",n._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[ie.xu,i.RF,i.n9,i.ED,ie.pI,i.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[Ie.transformPanelWrap,Ie.transformPanel]},changeDetection:0}),r})(),ct=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[it],imports:[[i.ez,ie.U8,N.Ng,N.BQ],_e.ZD,ne.lN,N.Ng,N.BQ]}),r})();function pt(r,d){if(1&r&&(a.TgZ(0,"div"),a.TgZ(1,"mat-option",17),a._uU(2),a.qZA(),a.qZA()),2&r){const t=d.$implicit;a.xp6(1),a.Q6J("value",t.id),a.xp6(1),a.Oqu(t.name)}}function ht(r,d){if(1&r&&(a.TgZ(0,"div"),a.TgZ(1,"mat-option",17),a._uU(2),a.qZA(),a.qZA()),2&r){const t=d.$implicit;a.xp6(1),a.Q6J("value",t.id),a.xp6(1),a.Oqu(t.name)}}function ut(r,d){if(1&r){const t=a.EpF();a.TgZ(0,"div",4),a.TgZ(1,"div",10),a.TgZ(2,"div",5),a._uU(3,"Ocasi\xf5es"),a.qZA(),a.qZA(),a.TgZ(4,"mat-form-field",11),a.TgZ(5,"mat-label"),a._uU(6,"Selecione a ocasi\xe3o"),a.qZA(),a.TgZ(7,"mat-select",12),a.NdJ("selectionChange",function(o){return a.CHM(t),a.oxw().getOccasion(o)}),a.YNc(8,ht,3,2,"div",13),a.qZA(),a.qZA(),a.qZA()}if(2&r){const t=a.oxw();a.xp6(7),a.Q6J("multiple",!0),a.xp6(1),a.Q6J("ngForOf",t.occasions)}}let gt=(()=>{class r{constructor(t,n,o){this.salesReportService=t,this.toolbarService=n,this.reportService=o,this.showOccasions=!1,this.sendPdv=new a.vpe,this.sendDateStart=new a.vpe,this.sendDateEnd=new a.vpe,this.sendTicketType=new a.vpe,this.sendSellsGroup=new a.vpe,this.eventId="",this.showSellsGroup=!1,this.sellsGroup="Sectors",this.filter={}}ngOnInit(){this.toolbarService.getEventId().subscribe(t=>{""!=t&&this.eventId!==t&&(null!=document.getElementById("buttonSector")&&document.getElementById("buttonSector").click(),this.eventId=t,this.listPdvs(),this.listOccasions())})}listPdvs(){this.reportService.listEventPdvs(this.eventId).subscribe(t=>{this.pdvs=t.pdvs})}listOccasions(){this.reportService.listEventOccasions(this.eventId).subscribe(t=>{this.occasions=t})}sendFilter(){this.toolbarService.defineEventId(""),this.reportService.defineFilter(this.filter)}closeFilters(){this.salesReportService.setFilterOpened(!1)}getPdv(t){this.filter.pdvs=t.value}getOccasion(t){this.filter.occasions=t.value}ngOnChanges(t){this.showOccasions=0!=t.showOccasions.currentValue}getDateStart(t){let n=new Date(t.srcElement.value);n.setHours(n.getHours()-3),this.filter.dateFrom=n.toISOString(),null==t.srcElement.value&&delete this.filter.dateFrom}getDateEnd(t){let n=new Date(t.srcElement.value);n.setHours(n.getHours()-3),this.filter.dateTo=n.toISOString(),null==t.srcElement.value&&delete this.filter.dateTo}getTicketType(t){}getSellsGroup(t){this.sellsGroup==t?(this.sendSellsGroup.emit(""),this.sellsGroup=""):(this.sendSellsGroup.emit(t),this.sellsGroup=t)}getFilter(t){}}return r.\u0275fac=function(t){return new(t||r)(a.Y36(k.x),a.Y36(O.O),a.Y36(V.r))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-producer-report-filter"]],inputs:{showOccasions:"showOccasions"},outputs:{sendPdv:"sendPdv",sendDateStart:"sendDateStart",sendDateEnd:"sendDateEnd",sendTicketType:"sendTicketType",sendSellsGroup:"sendSellsGroup"},features:[a.TTD],decls:31,vars:3,consts:[[1,"filter__toolbar"],["mat-icon-button","",1,"close-filters",3,"click"],[1,"filter__content"],[1,"row","filter-group"],[1,"col-sm-12"],[1,"filter__title"],[1,"col-lg-12"],[1,"mt-2"],[1,"col-lg-12","d-flex"],["type","datetime-local","placeholder","dd/mm/aa",1,"datetime","mt-2",3,"change"],[1,"col-sm-12","mt-3"],["appearance","outline"],[3,"multiple","selectionChange"],[4,"ngFor","ngForOf"],["class","col-sm-12",4,"ngIf"],[1,"filter__footer"],["mat-flat-button","","color","primary",3,"click"],[3,"value"]],template:function(t,n){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return n.closeFilters()}),a.TgZ(2,"mat-icon"),a._uU(3,"arrow_back"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(4,"div",2),a.TgZ(5,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"div",5),a._uU(8,"Per\xedodo"),a.qZA(),a.qZA(),a.TgZ(9,"div",6),a.TgZ(10,"label",7),a._uU(11,"De"),a.qZA(),a.TgZ(12,"div",8),a.TgZ(13,"input",9),a.NdJ("change",function(l){return n.getDateStart(l)}),a.qZA(),a.qZA(),a.TgZ(14,"label",7),a._uU(15,"At\xe9"),a.qZA(),a.TgZ(16,"div",8),a.TgZ(17,"input",9),a.NdJ("change",function(l){return n.getDateEnd(l)}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(18,"div",4),a.TgZ(19,"div",10),a.TgZ(20,"div",5),a._uU(21,"PDV's"),a.qZA(),a.qZA(),a.TgZ(22,"mat-form-field",11),a.TgZ(23,"mat-label"),a._uU(24,"Selecione o Pdv"),a.qZA(),a.TgZ(25,"mat-select",12),a.NdJ("selectionChange",function(l){return n.getPdv(l)}),a.YNc(26,pt,3,2,"div",13),a.qZA(),a.qZA(),a.qZA(),a.YNc(27,ut,9,2,"div",14),a.qZA(),a.qZA(),a.TgZ(28,"div",15),a.TgZ(29,"button",16),a.NdJ("click",function(){return n.sendFilter()}),a._uU(30,"Aplicar Filtros"),a.qZA(),a.qZA()),2&t&&(a.xp6(25),a.Q6J("multiple",!0),a.xp6(1),a.Q6J("ngForOf",n.pdvs),a.xp6(1),a.Q6J("ngIf",1==n.showOccasions&&n.occasions.length>=1))},directives:[p.lW,pe.Hw,ne.KE,ne.hX,dt,i.sg,N.ey,i.O5],styles:[".filter__toolbar[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;height:var(--tab-group-height);padding:5px;border-bottom:1px solid #E5EBF4;background:#FFFFFF;z-index:9999}.datetime[_ngcontent-%COMP%]{height:30px;border-radius:5px;border:1px solid lightgray;padding:23px 13px;width:100%}.filter__content[_ngcontent-%COMP%]{overflow-x:hidden;font-family:Inter}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{padding:30px 20px}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter__title[_ngcontent-%COMP%]{font-size:16px;line-height:20px;font-weight:700;color:#282a35;padding-left:10px;padding-bottom:20px;text-transform:capitalize}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-group__buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px 10px}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-group__buttons[_ngcontent-%COMP%]   .btn-filter-option[_ngcontent-%COMP%]{height:50px;font-size:16px;color:#a4a6b5;border:1px solid #A4A6B5;border-radius:25px;padding-left:25px;padding-right:25px}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .filter-group__buttons[_ngcontent-%COMP%]   .btn-filter-option.selected[_ngcontent-%COMP%]{background:#F2F4FF;color:var(--bs-primary);border:1px solid var(--bs-primary)}.filter__content[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(0,0,0,.09)}.filter__footer[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;bottom:0;padding:20px}.filter__footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:10px;font-size:16px}@media (min-width: 1230px){.filter__toolbar[_ngcontent-%COMP%]   .close-filters[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),r})();const _t=["eventListTemplate"];function mt(r,d){if(1&r&&(a.TgZ(0,"div",16),a._UZ(1,"img",17),a.qZA()),2&r){const t=a.oxw();a.xp6(1),a.Q6J("src",t.imageEvent,a.LSH)}}function ft(r,d){1&r&&a._UZ(0,"img",18)}function vt(r,d){if(1&r&&(a.TgZ(0,"button",25),a._uU(1),a.qZA()),2&r){const t=a.oxw().$implicit;a.Q6J("disableRipple",!0)("routerLink",t.route),a.xp6(1),a.Oqu(t.title)}}function yt(r,d){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-sales-report",28),a.qZA()),2&r){const t=a.oxw(3);a.xp6(1),a.Q6J("information",t.salesInformation)("cupomInformation",t.cupomInformation)("totalCupons",t.totalCupons)("amountTotalCuponsSell",t.amountTotalCuponsSell)}}const ve=function(){return{width:"100%",height:"700px"}};function bt(r,d){1&r&&a._UZ(0,"ngx-skeleton-loader",29),2&r&&a.Q6J("theme",a.DdM(1,ve))}function Ct(r,d){if(1&r&&(a.TgZ(0,"div"),a.YNc(1,yt,2,4,"div",26),a.YNc(2,bt,1,2,"ng-template",null,27,a.W1O),a.qZA()),2&r){const t=a.MAs(3),n=a.oxw(2);a.xp6(1),a.Q6J("ngIf",0==n.loading)("ngIfElse",t)}}function xt(r,d){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-quantity-report",30),a.qZA()),2&r){const t=a.oxw(3);a.xp6(1),a.Q6J("information",t.salesInformation)}}function Mt(r,d){if(1&r&&(a.TgZ(0,"div"),a.YNc(1,xt,2,1,"div",26),a.qZA()),2&r){a.oxw();const t=a.MAs(5),n=a.oxw();a.xp6(1),a.Q6J("ngIf",0==n.loading)("ngIfElse",t)}}function Dt(r,d){1&r&&a._UZ(0,"ngx-skeleton-loader",29),2&r&&a.Q6J("theme",a.DdM(1,ve))}function At(r,d){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-pdv-report",31),a.qZA()),2&r){const t=a.oxw(3);a.xp6(1),a.Q6J("information",t.pdvInformation)("eventId",t.eventId)}}function Tt(r,d){if(1&r&&(a.TgZ(0,"div"),a.YNc(1,At,2,2,"div",26),a.qZA()),2&r){a.oxw();const t=a.MAs(8),n=a.oxw();a.xp6(1),a.Q6J("ngIf",0==n.loading4)("ngIfElse",t)}}function St(r,d){1&r&&a._UZ(0,"ngx-skeleton-loader",29),2&r&&a.Q6J("theme",a.DdM(1,ve))}function Ot(r,d){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-inputs-report",30),a.qZA()),2&r){const t=a.oxw(3);a.xp6(1),a.Q6J("information",t.inputsInformation)}}function Pt(r,d){if(1&r&&(a.TgZ(0,"div"),a.YNc(1,Ot,2,1,"div",26),a.qZA()),2&r){a.oxw();const t=a.MAs(5),n=a.oxw();a.xp6(1),a.Q6J("ngIf",0==n.loading2)("ngIfElse",t)}}function wt(r,d){1&r&&a._UZ(0,"ngx-skeleton-loader",29),2&r&&a.Q6J("theme",a.DdM(1,ve))}function Zt(r,d){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-sangria-report",32),a.qZA()),2&r){const t=a.oxw(3);a.xp6(1),a.Q6J("information",t.sangriaExtractInformation)("information2",t.sangriaPdvInformation)}}function Et(r,d){if(1&r&&(a.TgZ(0,"div"),a.YNc(1,Zt,2,2,"div",26),a.qZA()),2&r){a.oxw();const t=a.MAs(14),n=a.oxw();a.xp6(1),a.Q6J("ngIf",0==n.loading3)("ngIfElse",t)}}function kt(r,d){1&r&&a._UZ(0,"ngx-skeleton-loader",29),2&r&&a.Q6J("theme",a.DdM(1,ve))}function It(r,d){if(1&r&&(a.TgZ(0,"div"),a.TgZ(1,"div"),a._UZ(2,"app-bordero-report",33),a.qZA(),a.qZA()),2&r){const t=a.oxw(2);a.xp6(2),a.Q6J("eventId",t.eventId)}}function Rt(r,d){if(1&r&&(a.TgZ(0,"mat-tab",19),a.YNc(1,vt,2,3,"ng-template",20),a.YNc(2,Ct,4,2,"div",21),a.YNc(3,Mt,2,2,"div",21),a.YNc(4,Dt,1,2,"ng-template",null,22,a.W1O),a.YNc(6,Tt,2,2,"div",21),a.YNc(7,St,1,2,"ng-template",null,23,a.W1O),a.YNc(9,Pt,2,2,"div",21),a.YNc(10,wt,1,2,"ng-template",null,22,a.W1O),a.YNc(12,Et,2,2,"div",21),a.YNc(13,kt,1,2,"ng-template",null,24,a.W1O),a.YNc(15,It,3,1,"div",21),a.qZA()),2&r){const n=d.index;a.Q6J("disabled",d.$implicit.disabled),a.xp6(2),a.Q6J("ngIf",0==n),a.xp6(1),a.Q6J("ngIf",1==n),a.xp6(3),a.Q6J("ngIf",2==n),a.xp6(3),a.Q6J("ngIf",3==n),a.xp6(3),a.Q6J("ngIf",4==n),a.xp6(3),a.Q6J("ngIf",5==n)}}const Ft=[{path:"",component:(()=>{class r{constructor(t,n,o,l,m,T){this.salesReportService=t,this.reportService=n,this.router=o,this.activatedRoute=l,this.toolbarService=m,this.cookieService=T,this.isFilterOpened=!0,this.drawerMode="side",this.showOccasions=!1,this.title="isa-admin",this.isSideNavOpened=!1,this.visibility=!0,this.drawerEventsOpened=!1,this.inputsInformation={},this.salesInformation={},this.salesPdvsInformation=[],this.sangriaPdvInformation={},this.sangriaExtractInformation={},this.pdvInformation={},this.summary={},this.nameProducer="",this.image="",this.hideToolbar=!1,this.amountTotalTicketsSell=0,this.loading=!1,this.loading2=!1,this.loading3=!1,this.loading4=!1,this.quantityTotalTicketsSell=0,this.nameEvent="",this.dateEvent="",this.param={orderStatus:["Approved"],ticketStatus:["Generated"],v2:!0,v3:!0},this.imageEvent="",this.loading5=!1,this.totalCupons=0,this.amountTotalCuponsSell=0,this.unsubscribe$=new s.x}ngOnInit(){this.loadTabs(),this.selectedTabIndex=0,this.filterListener(),this.toolbarService.defineCurrentPage("report"),this.activatedRoute.params.subscribe(t=>{this.eventId=t.id,this.toolbarService.defineEventId(this.eventId)}),this.toolbarService.defineLinkPage("report"),this.reportService.getFilter().subscribe(t=>{null!=t&&""!==t&&this.eventId==location.pathname.split("/")[3]&&(this.param=t,null!=t.pdvs&&t.pdvs[0].length<1&&delete this.param.pdvs,this.param.withFees=!1,this.param.limit=100,this.param.eventId=this.eventId,this.param.orderStatus=["Approved"],this.param.ticketStatus=["Generated"],this.reloadEverything(),this.getSummary(),this.listSalesPDVInformation(),this.getSales(),this.listPdvs(),this.getSaleInputs(),this.listSalesWithCupons())}),this.getEventName(),this.toolbarService.getEventId().pipe((0,D.R)(this.unsubscribe$)).subscribe(t=>{this.eventId!==t&&""!==t&&(this.param.eventId=t,this.eventId=t,this.selectedTabIndex=0,this.reloadEverything(),this.getSales(),this.listSalesPDVInformation(),this.listPdvs(),this.getSaleInputs())}),this.param.withFees=!1,this.param.eventId=this.eventId,this.listPdvs(),this.getSales(),this.listSalesPDVInformation(),this.getSaleInputs(),this.listSalesWithCupons()}ngOnChanges(t){}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete()}toggleEventList(){1==this.drawerEventsOpened?(this.toolbarService.defineOpenEventList(!1),this.drawerEventsOpened=!1):this.toolbarService.defineOpenEventList(!0)}getSaleInputs(){this.reloadEverything(),this.loading2=!0,this.param.eventId=this.eventId,this.reportService.entries(this.param).pipe((0,D.R)(this.unsubscribe$)).subscribe(t=>{this.loading2=!1,this.inputsInformation=t})}getSales(){this.loading=!0,this.reportService.summary(this.eventId,this.param).pipe((0,D.R)(this.unsubscribe$),(0,S.K)(t=>(0,Y.of)(t))).subscribe(t=>{this.loading=!1,this.toolbarService.defineAmountTotalTicketsSell(t.amountTicketsWithoutFeeSell),this.toolbarService.defineQuantityTotalTicketsSell(t.quantityTicketsSell),this.salesInformation=t})}listSalesWithCupons(){this.loading5=!0,this.reportService.salesByEvent(this.param).subscribe(t=>{this.loading5=!1,this.cupomInformation=t.cupons,this.totalCupons=t.totalCupons,this.amountTotalCuponsSell=t.amountTotalCuponsSell})}listSalesPDVInformation(){this.loading4=!0,this.param.eventId=this.eventId,this.reportService.salesPDVByEvent(this.param).pipe((0,D.R)(this.unsubscribe$),(0,S.K)(t=>(0,Y.of)(t))).subscribe(t=>{this.loading4=!1,this.pdvInformation=t.pdvs})}getSummary(){this.loading2=!0,this.reportService.summary(this.eventId,this.param).pipe((0,D.R)(this.unsubscribe$),(0,S.K)(t=>(0,Y.of)(t))).subscribe(t=>{this.loading2=!1,this.salesInformation.evolutionSell=t.evolutionSell})}listPdvs(){this.param.orderStatus=["Approved"],this.param.ticketStatus=["Generated"],this.param.eventId=this.eventId,this.sangriaPdvInformation={pdvs:[]},this.loading3=!0,this.reportService.salesPDVByEvent(this.param).subscribe(t=>{this.sangriaPdvInformation=t,null!=t.pdvs[0]?this.listMoneyByPdv(t):(this.loading3=!1,this.sangriaPdvInformation.pdvs=null)})}listMoneyByPdv(t){this.param.eventId=this.eventId,this.param.withFees=!1;let n=[];for(let o=0;o<this.sangriaPdvInformation.pdvs.length;o++)n[n.length]=this.sangriaPdvInformation.pdvs[o].pdvId;this.reportService.moneyExtractPDVByEvent(this.eventId,n).subscribe(o=>{this.loading3=!1,this.sangriaExtractInformation=o.result})}reloadEverything(){this.inputsInformation=void 0,this.salesInformation=void 0,this.sangriaPdvInformation=void 0,this.sangriaExtractInformation=void 0,this.pdvInformation=void 0}windowResize(t){t.target.innerWidth>=1230?(this.drawerMode="side",this.isFilterOpened=!0):(this.drawerMode="push",this.isFilterOpened=!1)}setFilterOpened(t){this.isFilterOpened=t}findTab(t){this.showOccasions=3==t.index}loadTabs(){this.tabs=[{title:"Resumo",disabled:!1},{title:"Quantidades",disabled:!1},{title:"PDVs",disabled:!1},{title:"Entradas",disabled:!1},{title:"Sangria",disabled:!1},{title:"Border\xf4",disabled:!1}],this.selectedTabIndex=this.tabs.findIndex(t=>t.route==location.pathname.split("/").pop())}filterListener(){this.salesReportService.filterOpened.pipe((0,D.R)(this.unsubscribe$)).subscribe({next:t=>{this.isFilterOpened=t}})}getPdv(t){this.reportService.defineFilter({eve:t})}getOccasion(t){this.reportService.defineFilter({eve:t})}getDateStart(t){this.reportService.defineFilter({orderDateSellStart:t})}getDateEnd(t){this.reportService.getFilter().subscribe(n=>{this.reportService.defineFilter(n.orderDateSellStart=t)})}getTicketType(t){}getSellsGroup(t){console.log(t),"Pdvs"==t?this.getPdvsSells():this.salesInformation.sellsPdv=[]}getPdvsSells(){this.loading=!0,this.reportService.listEventPdvs(this.eventId).subscribe(t=>{this.param.eventId=this.eventId,this.param.withFees=!1,this.salesInformation.sellsPdv=[],this.reportService.salesPDVByEvent(this.param).subscribe(n=>{this.loading=!1;for(let o=0;o<t.pdvs.length;o++)for(let l=0;l<n.pdvs.length;l++){console.log(t.pdvs[o]);let m=0,T=0;for(let I=0;I<n.pdvs[l].ticketsSell.length;I++)m+=n.pdvs[l].ticketsSell[I].quantity,T+=n.pdvs[l].ticketsSell[I].amount,n.pdvs[l].quantityTotal=m,n.pdvs[l].amountTotal=T;t.pdvs[o].id==n.pdvs[l].pdvId&&(this.salesInformation.sellsPdv[this.salesInformation.sellsPdv.length]={pdvName:t.pdvs[l].name,pdvId:t.pdvs[l].id,quantityTotal:n.pdvs[l].quantityTotal,amountTotal:n.pdvs[l].amountTotal,ticketsSell:n.pdvs[l].ticketsSell})}})})}getEventName(){this.reportService.summary(this.eventId,{eventId:this.eventId,withFees:!0,orderStatus:["Approved"],ticketStatus:["Generated"]}).subscribe(n=>{this.toolbarService.defineImageEvent(n.event.imageWeb),this.toolbarService.defineDateEvent(n.event.dates[0].dateStartEvent),this.toolbarService.defineNameEvent(n.event.name)})}}return r.\u0275fac=function(t){return new(t||r)(a.Y36(k.x),a.Y36(V.r),a.Y36(e.F0),a.Y36(e.gz),a.Y36(O.O),a.Y36(E.N))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reports"]],viewQuery:function(t,n){if(1&t&&a.Gf(_t,5),2&t){let o;a.iGM(o=a.CRH())&&(n.eventListTemplate=o.first)}},features:[a.TTD],decls:23,vars:13,consts:[[3,"resize"],[1,"toolbar__event","mobile",2,"background","#425bff"],[2,"background","url(../../../../../../../assets/images/bg-header.jpg)","width","100%","position","absolute","opacity","0.3","height","100px"],["mat-button","",3,"click"],["class","toolbar__event-image",4,"ngIf","ngIfElse"],["showFunkImage",""],[1,"toolbar__event-info"],[1,"toolbar__event-name","ms-3","fs-5","font-weight-bold"],[1,"toolbar__event-date","ms-3"],["animationDuration","0ms","mat-align-tabs","center",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"disabled",4,"ngFor","ngForOf"],[1,"fab-button-filters"],["mat-fab","","color","primary",3,"click"],["fontSet","material-icons-outlined"],["position","end",3,"mode","opened","openedStart","closedStart"],[3,"showOccasions","sendPdv","sendDateStart","sendDateEnd","sendTicketType","sendSellsGroup"],[1,"toolbar__event-image"],["width","63px;","height","63px","alt","event-image",2,"object-fit","cover","border-radius","300px",3,"src"],["width","63px;","height","63px","src","../../../../../assets/images/funk.jpg",2,"object-fit","cover","border-radius","300px"],[3,"disabled"],["mat-tab-label",""],[4,"ngIf"],["showLoading2",""],["showLoading4",""],["showLoading3",""],["mat-flat-button","",3,"disableRipple","routerLink"],[4,"ngIf","ngIfElse"],["showLoading",""],[3,"information","cupomInformation","totalCupons","amountTotalCuponsSell"],[3,"theme"],[3,"information"],[3,"information","eventId"],[3,"information","information2"],[3,"eventId"]],template:function(t,n){if(1&t&&(a.TgZ(0,"mat-drawer-container",0),a.NdJ("resize",function(l){return n.windowResize(l)},!1,a.Jf7),a.TgZ(1,"mat-drawer-content"),a._UZ(2,"app-producer-toolbar-mobile"),a.TgZ(3,"div",1),a._UZ(4,"div",2),a.TgZ(5,"a",3),a.NdJ("click",function(){return n.toggleEventList()}),a.YNc(6,mt,2,1,"div",4),a.YNc(7,ft,1,0,"ng-template",null,5,a.W1O),a.TgZ(9,"div",6),a.TgZ(10,"h4",7),a._uU(11),a.qZA(),a.TgZ(12,"span",8),a._uU(13),a.ALo(14,"date"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"mat-tab-group",9),a.NdJ("selectedIndexChange",function(l){return n.selectedTabIndex=l})("selectedTabChange",function(l){return n.findTab(l)}),a.YNc(16,Rt,16,7,"mat-tab",10),a.qZA(),a.TgZ(17,"div",11),a.TgZ(18,"button",12),a.NdJ("click",function(){return n.isFilterOpened=!n.isFilterOpened}),a.TgZ(19,"mat-icon",13),a._uU(20,"filter_alt"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"mat-drawer",14),a.NdJ("openedStart",function(){return n.setFilterOpened(!0)})("closedStart",function(){return n.setFilterOpened(!1)}),a.TgZ(22,"app-producer-report-filter",15),a.NdJ("sendPdv",function(l){return n.getPdv(l)})("sendDateStart",function(l){return n.getDateStart(l)})("sendDateEnd",function(l){return n.getDateEnd(l)})("sendTicketType",function(l){return n.getTicketType(l)})("sendSellsGroup",function(l){return n.getSellsGroup(l)}),a.qZA(),a.qZA(),a.qZA()),2&t){const o=a.MAs(8);a.xp6(6),a.Q6J("ngIf",""!==n.imageEvent&&null!==n.imageEvent)("ngIfElse",o),a.xp6(5),a.Oqu(n.nameEvent),a.xp6(2),a.Oqu(a.xi3(14,10,n.dateEvent,"dd/MM/yyy")),a.xp6(2),a.Q6J("selectedIndex",n.selectedTabIndex)("selectedIndex",n.selectedTabIndex),a.xp6(1),a.Q6J("ngForOf",n.tabs),a.xp6(5),a.Q6J("mode",n.drawerMode)("opened",n.isFilterOpened),a.xp6(1),a.Q6J("showOccasions",n.showOccasions)}},directives:[C.kh,C.LW,b.o,p.zs,i.O5,A.SP,i.sg,A.uX,A.uD,p.lW,e.rH,u.H,x.xr,g.q,U.m,M.D,_.p,Oe,pe.Hw,C.jA,gt],pipes:[i.uU],styles:["mat-drawer-container[_ngcontent-%COMP%]{position:absolute;inset:0;background:transparent;scrollbar-color:#6969dd #e0e0e0;scrollbar-width:thin}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]{overflow:hidden;max-height:-webkit-fill-available;-webkit-overflow-scrolling:auto!important;height:100%}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer-content[_ngcontent-%COMP%]   mat-tab-group[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;background:#FFFFFF}mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{width:100%;border:0;box-shadow:0 var(--tab-group-height) 10px #3c468729}.fab-button-filters[_ngcontent-%COMP%]{position:fixed;bottom:92px;right:25px;z-index:99999}.fab-button-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]     .mat-tab-header, [_nghost-%COMP%]     .mat-tab-labels, [_nghost-%COMP%]     .mat-ripple{height:100%;max-height:-webkit-fill-available}[_nghost-%COMP%]     .mat-tab-header{border-bottom:1px solid rgba(0,0,0,.09)}[_nghost-%COMP%]     .mat-tab-label{padding:0;opacity:1}[_nghost-%COMP%]     .mat-tab-label-active .mat-tab-label-content{color:var(--bs-primary)}[_nghost-%COMP%]     .mat-tab-label-content{width:100%;height:100%;font-size:15px;line-height:20px;font-weight:500;font-family:Inter;letter-spacing:0px;color:#a4a6b5;text-transform:capitalize}[_nghost-%COMP%]     .mat-tab-label-content .mat-flat-button{width:100%;height:100%;border-radius:0;color:inherit}[_nghost-%COMP%]     button.mat-elevation-z4{box-shadow:none;color:var(--bs-primary)}@media (min-width: 576px){mat-drawer-container[_ngcontent-%COMP%]   mat-drawer[_ngcontent-%COMP%]{width:375px}}@media (min-width: 768px){.mobile[_ngcontent-%COMP%]{display:none}}mat-tab-body-wrapper[_ngcontent-%COMP%]{display:table}"]}),r})(),children:[{path:"",redirectTo:"sales"},{path:"sales",loadChildren:()=>Promise.resolve().then(c.bind(c,7562)).then(r=>r.SalesReportModule)},{path:"quantity",loadChildren:()=>Promise.resolve().then(c.bind(c,2897)).then(r=>r.QuantityReportModule)},{path:"inputs",loadChildren:()=>Promise.resolve().then(c.bind(c,836)).then(r=>r.InputsReportModule)},{path:"sangria",loadChildren:()=>Promise.resolve().then(c.bind(c,5368)).then(r=>r.SangriaReportModule)},{path:"pdv",loadChildren:()=>Promise.resolve().then(c.bind(c,1774)).then(r=>r.PdvReportModule)}]}];let qt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[e.Bz.forChild(Ft)],e.Bz]}),r})();var Vt=c(7429),Ze=(c(727),c(7531));let Ht=(()=>{class r{constructor(){this.changes=new s.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,n){return`${t} \u2013 ${n}`}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Jt={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[ie.aV],useFactory:function $t(r){return()=>r.scrollStrategies.reposition()}};let aa=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ht,Jt],imports:[[i.ez,p.ot,ie.U8,me.rt,Vt.eL,N.BQ],_e.ZD]}),r})();var na=c(5003);let ia=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[i.ez,aa,ne.lN,N.XK,ct,p.ot,Ze.c,pe.Ps,na.yI.forRoot()]]}),r})();var ra=c(4399),oa=c(1852),sa=c(7562),la=c(836),da=c(4594),ca=c(2525),pa=c(2897),ha=c(5368),ua=c(1774);let ga=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[i.H9],imports:[[i.ez,qt,ia,C.SJ,ha.SangriaReportModule,A.Nh,sa.SalesReportModule,oa.L,ra.V,p.ot,ua.PdvReportModule,da.g0,pa.QuantityReportModule,x.hx,Ze.c,pe.Ps,ca.Tx,la.InputsReportModule]]}),r})()},238:(G,B,c)=>{c.d(B,{H:()=>oe});var i=c(7579),e=c(5e3),s=c(3287),D=c(8285),Y=c(3696),S=c(4920),a=c(9808),k=c(7851),V=c(5245),O=c(6770);function E(y,P){if(1&y&&(e.TgZ(0,"div"),e._UZ(1,"hr",43),e.TgZ(2,"div",29),e._UZ(3,"span",30),e.qZA(),e.TgZ(4,"div",44),e.TgZ(5,"div",45),e.TgZ(6,"div",46),e.TgZ(7,"div",47),e._uU(8),e.qZA(),e.TgZ(9,"div",48),e._uU(10),e.ALo(11,"currency"),e.qZA(),e.qZA(),e.TgZ(12,"div",46),e.TgZ(13,"div",49),e.TgZ(14,"div",50),e._UZ(15,"mat-icon",51),e._uU(16),e._UZ(17,"br"),e.TgZ(18,"p",34),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&y){const h=P.$implicit,f=P.index,v=e.oxw(2);e.xp6(3),e.Udp("background-color",v.colorScheme2.domain[f]),e.xp6(5),e.Oqu(h.name),e.xp6(2),e.Oqu(e.Dn7(11,6,h.amount,"BRL",!0)),e.xp6(6),e.hij("",h.value," "),e.xp6(3),e.hij("",h.percentage,"%")}}const C=function(y){return[y,160]};function b(y,P){if(1&y&&(e.ynx(0),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"div",21),e.TgZ(4,"h4",22),e._uU(5,"Tipos de venda"),e.qZA(),e.qZA(),e.TgZ(6,"div",23),e.TgZ(7,"div",24,25),e._UZ(9,"ngx-charts-pie-chart",26),e.TgZ(10,"div",27),e.TgZ(11,"div",28),e.TgZ(12,"div",29),e._UZ(13,"span",30),e.qZA(),e.TgZ(14,"div",31),e.TgZ(15,"div",32),e._uU(16,"Vendas Online"),e.qZA(),e.TgZ(17,"div",33),e._uU(18),e.TgZ(19,"span",34),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"div",35),e._uU(22),e.ALo(23,"currency"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",28),e.TgZ(25,"div",29),e._UZ(26,"span",36),e.qZA(),e.TgZ(27,"div",31),e.TgZ(28,"div",32),e._uU(29,"Vendas F\xedsicas"),e.qZA(),e.TgZ(30,"div",33),e._uU(31),e.TgZ(32,"span",34),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"div",35),e._uU(35),e.ALo(36,"currency"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",28),e.TgZ(38,"div",29),e._UZ(39,"span",37),e.qZA(),e.TgZ(40,"div",31),e.TgZ(41,"div",32),e._uU(42,"Gratuidade"),e.qZA(),e.TgZ(43,"div",33),e._uU(44),e.TgZ(45,"span",34),e._uU(46),e.qZA(),e.qZA(),e._UZ(47,"div",35),e.qZA(),e.qZA(),e.TgZ(48,"div",28),e.TgZ(49,"div",29),e._UZ(50,"span",38),e.qZA(),e.TgZ(51,"div",31),e.TgZ(52,"div",32),e._uU(53,"Cortesias"),e.qZA(),e.TgZ(54,"div",33),e._uU(55),e.TgZ(56,"span",34),e._uU(57),e.qZA(),e.qZA(),e._UZ(58,"div",35),e.qZA(),e.qZA(),e.TgZ(59,"p",39),e._uU(60),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(61,"div",19),e.TgZ(62,"div",20),e.TgZ(63,"div",21),e.TgZ(64,"h4",22),e._uU(65,"Vendas (m\xe9todo de pagamento)"),e.qZA(),e.qZA(),e.TgZ(66,"div",40),e.TgZ(67,"div",41,25),e._UZ(69,"ngx-charts-pie-chart",26),e.qZA(),e.qZA(),e.TgZ(70,"div",27),e.YNc(71,E,20,10,"div",42),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&y){const h=e.MAs(8),f=e.oxw();e.xp6(9),e.Q6J("view",e.VKq(32,C,.5*h.offsetWidth))("scheme",f.colorScheme)("doughnut",!0)("legend",!1)("results",f.chartSells)("gradient",!0),e.xp6(9),e.hij(" ",f.onlineQuantityTicketsSell,""),e.xp6(2),e.hij("",f.onlineQuantityTicketsSellPercentage,"%"),e.xp6(2),e.Oqu(e.Dn7(23,24,f.onlineAmountTicketsWithoutFeeSell,"BRL",!0)),e.xp6(9),e.hij(" ",f.physicalQuantityTicketsSell," "),e.xp6(2),e.hij("",f.physicalQuantityTicketsSellPercentage,"%"),e.xp6(2),e.Oqu(e.Dn7(36,28,f.physicalAmountTicketsWithoutFeeSell,"BRL",!0)),e.xp6(9),e.hij(" ",f.quantityTicketSellGratuity," "),e.xp6(2),e.hij("",f.quantityTicketsSellGratuityPercentage,"%"),e.xp6(9),e.hij(" ",f.quantityTicketSellCourtesy," "),e.xp6(2),e.hij("",f.quantityTicketsSellCourtesyPercentage,"%"),e.xp6(3),e.hij("Total: ",f.totalQuantityTicketSells,""),e.xp6(9),e.Q6J("view",e.VKq(34,C,.5*h.offsetWidth))("scheme",f.colorScheme2)("doughnut",!0)("legend",!1)("results",f.chartPaymentMethods)("gradient",!0),e.xp6(2),e.Q6J("ngForOf",f.chartPaymentMethods)}}const p=function(){return{width:"100%",height:"300px"}};function A(y,P){1&y&&(e.TgZ(0,"div",52),e._UZ(1,"ngx-skeleton-loader",53),e.qZA(),e.TgZ(2,"div",52),e._UZ(3,"ngx-skeleton-loader",53),e.qZA()),2&y&&(e.xp6(1),e.Q6J("theme",e.DdM(2,p)),e.xp6(2),e.Q6J("theme",e.DdM(3,p)))}function u(y,P){if(1&y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",59),e.TgZ(2,"span",60),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"small",60),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td",61),e._uU(8),e.ALo(9,"number"),e.qZA(),e.qZA()),2&y){const h=P.$implicit;e.xp6(3),e.hij("",h.tooltipText3," \xa0"),e.xp6(3),e.hij("",h.tooltipText2," "),e.xp6(2),e.hij("R$ ",e.xi3(9,3,h.value,"1.2-2"),"")}}function x(y,P){if(1&y&&(e.ynx(0),e.TgZ(1,"div",54),e.TgZ(2,"div",55),e.TgZ(3,"div",21),e.TgZ(4,"h4",22),e._uU(5,"Vendas (Valor) R$"),e.qZA(),e.qZA(),e.TgZ(6,"div",56),e.TgZ(7,"div",57),e.TgZ(8,"table",58),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th"),e._uU(12,"Data"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Vendas"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Valor total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"tbody"),e.YNc(18,u,10,6,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.BQk()),2&y){const h=e.oxw();e.xp6(18),e.Q6J("ngForOf",h.chartEvolutionSellAmount)}}function g(y,P){1&y&&(e.TgZ(0,"div",52),e._UZ(1,"ngx-skeleton-loader",53),e.qZA()),2&y&&(e.xp6(1),e.Q6J("theme",e.DdM(1,p)))}function U(y,P){if(1&y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",59),e.TgZ(2,"span",60),e._uU(3),e.qZA(),e.TgZ(4,"small",60),e._uU(5),e.qZA(),e.qZA(),e._UZ(6,"td",78),e.TgZ(7,"td",79),e._uU(8),e.ALo(9,"number"),e.qZA(),e.TgZ(10,"td",79),e._uU(11),e.qZA(),e.TgZ(12,"td",79),e._uU(13),e.ALo(14,"number"),e.qZA(),e.qZA()),2&y){const h=P.$implicit,f=e.oxw(4);e.xp6(3),e.hij("",h.ticketName," \xa0"),e.xp6(2),e.AsE("",f.ticketGender(h.ticketGender)," - ",f.ticketType(h.ticketType),""),e.xp6(3),e.hij("R$ ",e.xi3(9,6,h.price,"1.2-2"),""),e.xp6(3),e.Oqu(h.quantity),e.xp6(2),e.hij(" R$ ",e.xi3(14,9,h.amount,"1.2-2")," ")}}function M(y,P){if(1&y&&(e.TgZ(0,"div",65),e.TgZ(1,"div",66),e.TgZ(2,"h2",67),e.TgZ(3,"button",68),e.TgZ(4,"div",69),e.TgZ(5,"div",70),e._uU(6),e.qZA(),e.TgZ(7,"div",71),e.TgZ(8,"div",72),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"div",73),e._UZ(12,"mat-icon",51),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",74),e.TgZ(15,"div",75),e.TgZ(16,"div",57),e.TgZ(17,"table",76),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th"),e._uU(21,"Ingresso"),e.qZA(),e._UZ(22,"th"),e.TgZ(23,"th",77),e._uU(24,"Valor"),e.qZA(),e.TgZ(25,"th",77),e._uU(26,"Qtd"),e.qZA(),e.TgZ(27,"th",77),e._uU(28,"Total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"tbody"),e.YNc(30,U,15,12,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&y){const h=P.$implicit,f=P.index;e.xp6(3),e.uIk("data-bs-target","#collapseOne"+f),e.xp6(3),e.Oqu(h.pdvName),e.xp6(3),e.hij("R$ ",e.xi3(10,6,h.amountTotal,"1.2-2"),""),e.xp6(4),e.hij("",h.quantityTotal," "),e.xp6(1),e.uIk("id","collapseOne"+f),e.xp6(16),e.Q6J("ngForOf",h.ticketsSell)}}function _(y,P){if(1&y&&(e.TgZ(0,"div",63),e.TgZ(1,"div",55),e.TgZ(2,"div",56),e.YNc(3,M,31,9,"div",64),e.qZA(),e.qZA(),e.qZA()),2&y){const h=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",h.information.sellsPdv)}}function z(y,P){if(1&y&&(e.TgZ(0,"div"),e.YNc(1,_,4,1,"div",62),e.qZA()),2&y){const h=e.oxw(),f=e.MAs(28);e.xp6(1),e.Q6J("ngIf",0==h.loading)("ngIfElse",f)}}function $(y,P){if(1&y&&(e.TgZ(0,"tr"),e.TgZ(1,"td",59),e.TgZ(2,"span",60),e._uU(3),e.qZA(),e.TgZ(4,"small",60),e._uU(5),e.qZA(),e.TgZ(6,"small",60),e._uU(7),e.qZA(),e.qZA(),e._UZ(8,"td",78),e.TgZ(9,"td",79),e._uU(10),e.qZA(),e.TgZ(11,"td",79),e._uU(12),e.qZA(),e.TgZ(13,"td",79),e._uU(14),e.qZA(),e.TgZ(15,"td",79),e._uU(16),e.ALo(17,"number"),e.qZA(),e.qZA()),2&y){const h=P.$implicit,f=e.oxw(4);e.xp6(3),e.hij("",h.name," \xa0"),e.xp6(2),e.AsE("",f.ticketGender(h.gender)," - ",f.ticketType(h.type),""),e.xp6(2),e.Oqu(h.lotName),e.xp6(3),e.Oqu(h.totalQuantity),e.xp6(2),e.Oqu(h.availableQuantity),e.xp6(2),e.Oqu(h.quantitySell),e.xp6(2),e.hij(" R$ ",e.xi3(17,8,h.amountSell,"1.2-2")," ")}}function j(y,P){if(1&y&&(e.TgZ(0,"div",65),e.TgZ(1,"div",66),e.TgZ(2,"h2",67),e.TgZ(3,"button",68),e.TgZ(4,"div",69),e.TgZ(5,"div",70),e._uU(6),e.qZA(),e.TgZ(7,"div",71),e.TgZ(8,"div",72),e._uU(9),e.ALo(10,"currency"),e.qZA(),e.TgZ(11,"div",73),e._UZ(12,"mat-icon",51),e._uU(13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",80),e.TgZ(15,"div",75),e.TgZ(16,"div",57),e.TgZ(17,"table",76),e.TgZ(18,"thead"),e.TgZ(19,"tr"),e.TgZ(20,"th"),e._uU(21,"Ingresso"),e.qZA(),e._UZ(22,"th"),e.TgZ(23,"th",77),e._uU(24,"Qtd Cadastrada"),e.qZA(),e.TgZ(25,"th",77),e._uU(26,"Qtd Dispon\xedvel "),e.qZA(),e.TgZ(27,"th",77),e._uU(28,"Qtd Vendido"),e.qZA(),e.TgZ(29,"th",77),e._uU(30,"Total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"tbody"),e.YNc(32,$,18,11,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&y){const h=P.$implicit,f=P.index,v=e.oxw(3);e.xp6(3),e.uIk("data-bs-target","#collapseOne"+f),e.xp6(3),e.Oqu(h.name),e.xp6(3),e.Oqu(e.Dn7(10,6,h.amount,"BRL",!0)),e.xp6(4),e.hij("",h.quantity," "),e.xp6(1),e.uIk("id","collapseOne"+f),e.xp6(18),e.Q6J("ngForOf",v.ticketsBySector(h.id))}}function ae(y,P){if(1&y&&(e.TgZ(0,"div",63),e.TgZ(1,"div",55),e.TgZ(2,"div",56),e.YNc(3,j,33,10,"div",64),e.qZA(),e.qZA(),e.qZA()),2&y){const h=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",h.sectorSells)}}function K(y,P){if(1&y&&e.YNc(0,ae,4,1,"div",62),2&y){const h=e.oxw(),f=e.MAs(28);e.Q6J("ngIf",0==h.loading)("ngIfElse",f)}}const Oe=function(){return{width:"100%",height:"70px"}};function pe(y,P){1&y&&(e.TgZ(0,"div"),e._UZ(1,"ngx-skeleton-loader",53),e.qZA()),2&y&&(e.xp6(1),e.Q6J("theme",e.DdM(1,Oe)))}const ne=function(){return[]};function ie(y,P){1&y&&e.YNc(0,pe,2,2,"div",42),2&y&&e.Q6J("ngForOf",e.DdM(1,ne).constructor(4))}function N(y,P){if(1&y&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.qZA()),2&y){const h=P.$implicit;e.xp6(2),e.Oqu(h.ticketTags),e.xp6(2),e.Oqu(h.totalBilhetes),e.xp6(2),e.Oqu(e.xi3(7,3,h.priceWithoutFee,"1.2-2"))}}function _e(y,P){if(1&y&&(e.TgZ(0,"div",81),e.TgZ(1,"div",20),e.TgZ(2,"div",21),e.TgZ(3,"h4",22),e._uU(4,"Vendas por cupom"),e.qZA(),e.qZA(),e.TgZ(5,"div",23),e.TgZ(6,"div",57),e.TgZ(7,"table",82),e.TgZ(8,"tbody"),e.TgZ(9,"tr"),e.TgZ(10,"th"),e._uU(11,"Nome"),e.qZA(),e.TgZ(12,"th"),e.TgZ(13,"small"),e._uU(14,"Qtd. "),e.qZA(),e._UZ(15,"br"),e._uU(16,"bilhetes"),e.qZA(),e.TgZ(17,"th"),e.TgZ(18,"small"),e._uU(19,"Valor "),e.qZA(),e._UZ(20,"br"),e._uU(21,"bilhetes sem taxa"),e.qZA(),e.qZA(),e.YNc(22,N,8,6,"tr",42),e.TgZ(23,"tr"),e.TgZ(24,"th"),e._uU(25,"Total"),e.qZA(),e.TgZ(26,"th"),e._uU(27),e.qZA(),e.TgZ(28,"th"),e._uU(29),e.ALo(30,"number"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&y){const h=e.oxw();let f,v;e.xp6(22),e.Q6J("ngForOf",h.cupomInformation),e.xp6(5),e.Oqu(null!==(f=h.totalCupons)&&void 0!==f?f:0),e.xp6(2),e.Oqu(e.xi3(30,3,h.amountTotalCuponsSell,null!==(v="1.2-2")&&void 0!==v?v:0))}}function me(y,P){1&y&&(e.TgZ(0,"div",52),e._UZ(1,"ngx-skeleton-loader",53),e.qZA()),2&y&&(e.xp6(1),e.Q6J("theme",e.DdM(1,p)))}let oe=(()=>{class y{constructor(h,f,v,w,H){this.router=h,this.activatedRoute=f,this.reportService=v,this.toolbarService=w,this.cookieService=H,this.totalCupons=0,this.amountTotalCuponsSell=0,this.eventId="",this.param={},this.amountTotalTicketsSell=0,this.onlineAmountTicketsWithoutFeeSell=0,this.onlineAmountTicketsWithFeeSell=0,this.onlineQuantityTicketsSell=0,this.onlineQuantityTicketsSellPercentage=0,this.physicalAmountTicketsWithoutFeeSell=0,this.physicalAmountTicketsWithFeeSell=0,this.physicalQuantityTicketsSell=0,this.physicalQuantityTicketsSellPercentage=0,this.quantityTotalTicketsSell=0,this.quantityTicketSellCourtesy=0,this.quantityTicketSellGratuity=0,this.quantityTicketsSellGratuityPercentage=0,this.quantityTicketsSellCourtesyPercentage=0,this.totalQuantityTicketSells=0,this.chartSectorSells=[],this.tickets=[],this.loading=!1,this.loading2=!1,this.chartEvolutionSellAmount=[],this.chartEvolutionSellQuantity=[],this.sectorSells=[],this.colorScheme={domain:["#399CFF","#7F94FF","#0c63e4","#cd13c7"]},this.colorScheme2={domain:["#cd13c7","#4c86bf","#399CFF","#7F94FF"]},this.chartSells=[{name:"Vendas Online",value:this.onlineQuantityTicketsSell},{name:"Vendas F\xedsicas",value:this.physicalQuantityTicketsSell},{name:"Gratuidade",value:this.quantityTicketSellGratuity},{name:"Cortesias",value:this.quantityTicketSellCourtesy}],this.chartOptions={},this.chartPaymentMethods=[],this.unsubscribe$=new i.x}ngOnInit(){document.body.style.zoom="80%",this.toolbarService.defineNamePage("Relat\xf3rio de vendas"),this.eventId=location.pathname.split("/")[3],this.param.eventId=this.eventId,this.param.withFees=!1,this.getSales(),this.getSummary(),this.toolbarService.getEventId().subscribe(h=>{h!==this.eventId&&""!==h&&(this.reloadEverything(),this.eventId=h,this.param={withFees:!1,limit:100,eventId:this.eventId,orderStatus:["Approved"],ticketStatus:["Generated"]},this.getSummary(),this.getSales())})}ngOnChanges(h){this.information=h.information.currentValue}convertDate(h){h.split("/");let f=h.split("T")[0].split("-");return f[2]+"/"+f[1]+"/"+f[0]}calculatePercentage(h,f){return parseFloat(h/f*100).toFixed(2).replace(/\.00$/,"")}getSales(){this.loading=!1,this.amountTotalTicketsSell=this.information.amountTicketsWithoutFeeSell,this.quantityTotalTicketsSell=this.information.quantityTicketsSell,this.information.pdvs.forEach(v=>{"Virtual"==v.pdvType&&(this.onlineAmountTicketsWithoutFeeSell=v.amountTicketsWithoutFeeSell,this.onlineAmountTicketsWithFeeSell=v.amountTicketsWithoutFeeSell,this.onlineQuantityTicketsSell=v.quantityTicketsSell,this.onlineQuantityTicketsSellPercentage=this.calculatePercentage(this.onlineQuantityTicketsSell,this.quantityTotalTicketsSell)),"Physical"==v.pdvType&&(this.physicalAmountTicketsWithoutFeeSell=v.amountTicketsWithoutFeeSell,this.physicalAmountTicketsWithFeeSell=v.amountTicketsSell,this.physicalQuantityTicketsSell=v.quantityTicketsSell-(this.information.quantityTicketSellCourtesy+this.information.quantityTicketSellGratuity),this.physicalQuantityTicketsSellPercentage=this.calculatePercentage(this.physicalQuantityTicketsSell,this.quantityTotalTicketsSell))});let h=0;this.information.paymentMethods.forEach(v=>{h+=parseInt(v.quantityPayment)}),this.information.paymentMethods.forEach(v=>{this.chartPaymentMethods[this.chartPaymentMethods.length]={name:v.name,value:v.quantityPayment,percentage:this.calculatePercentage(parseInt(v.quantityPayment),h),amount:v.amount}});let f=[];this.information.sectorsSell.forEach(v=>{console.log(v),this.sectorSells[this.sectorSells.length]={name:v.name,id:v.id,amount:v.amountSell,quantity:v.quantitySell},this.information.ticketsSell.forEach((w,H)=>{v.id==w.sectorId&&(f[f.length]={name:w.name,value:w.quantitySell,sectorName:v.name,sectorId:v.id,sectorQuantitty:v.quantitySell,sectorAmount:v.amountSell,tooltipText:w.amountSell,tooltipText2:w.quantitySell})})}),this.chartSectorSells=f,this.tickets=this.information.ticketsSell}createChart(h,f,v){this.chartOptions={series:[{name:"Bilhetes",type:"column",data:h},{name:"Valor faturado",type:"area",data:f}],chart:{height:350,type:"line",stacked:!1},stroke:{width:[0,2,5],curve:"smooth"},plotOptions:{bar:{columnWidth:"100%"}},fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},labels:v,markers:{size:3},xaxis:{type:"string"},yaxis:[{title:{text:"Quantidade vendidos por dia"},min:0,labels:{formatter:function(w){return parseInt(w)}}},{title:{text:"Valor total vendido por dia"},labels:{formatter:function(w){return"R$ "+w.toLocaleString("pt-br",{minimumFractionDigits:2})}}}],tooltip:{shared:!1,intersect:!1,y:[{formatter:function(w){return console.log(w),void 0!==w?w.toFixed(0)+" vendidos":w}},{formatter:function(w){return console.log(w),void 0!==w?"R$ "+w.toLocaleString("pt-br",{minimumFractionDigits:2}):w}}]}}}getSummary(){this.loading2=!1;let h=[""],f=[""],v=[""];this.information.evolutionSell.forEach(w=>{h[h.length]=w.quantityTicketsSell,this.chartEvolutionSellQuantity[this.chartEvolutionSellQuantity.length]={name:w.day,value:parseFloat(w.quantityTicketsSell),tooltipText:w.amountSell,tooltipText2:w.quantityTicketsSell}}),this.quantityTicketSellCourtesy=this.information.quantityTicketSellCourtesy,this.quantityTicketSellGratuity=this.information.quantityTicketSellGratuity,this.chartSells[0].value=this.onlineQuantityTicketsSell,this.chartSells[1].value=this.physicalQuantityTicketsSell,this.chartSells[2].value=this.quantityTicketSellGratuity,this.chartSells[3].value=this.quantityTicketSellCourtesy,this.totalQuantityTicketSells=this.onlineQuantityTicketsSell+this.physicalQuantityTicketsSell+this.quantityTicketSellGratuity+this.quantityTicketSellCourtesy,this.quantityTicketsSellGratuityPercentage=this.calculatePercentage(this.quantityTicketSellGratuity,this.quantityTotalTicketsSell),this.quantityTicketsSellCourtesyPercentage=this.calculatePercentage(this.quantityTicketSellCourtesy,this.quantityTotalTicketsSell),this.chartEvolutionSellQuantity=this.chartEvolutionSellQuantity.reverse().slice(0,11).reverse(),this.information.evolutionSell=this.information.evolutionSell.sort((w,H)=>new Date(H.day.split("/")[2]+"-"+H.day.split("/")[1]+"-"+H.day.split("/")[0]).getTime()-new Date(w.day.split("/")[2]+"-"+w.day.split("/")[1]+"-"+w.day.split("/")[0]).getTime()),this.information.evolutionSell.slice(0,10).forEach((w,H)=>{v[v.length]=w.day,f[f.length]=w.amountSell,this.chartEvolutionSellAmount[this.chartEvolutionSellAmount.length]={name:w.quantityTicketsSell+" bilhetes       "+w.day,value:w.amountSell,tooltipText:w.amountSell,tooltipText2:w.quantityTicketsSell,tooltipText3:w.day,id:H,extra:{id:H,day:w.day}}}),this.chartEvolutionSellAmount=this.chartEvolutionSellAmount.reverse()}ticketsBySector(h){let f=[];return this.tickets.forEach(v=>{v.sectorId==h&&(f[f.length]={amountFee:v.amountFee,amountUnit:v.amountUnit,amountSell:v.amountSell,amountWithFee:v.amountWithFee,totalQuantity:v.totalQuantity,availableQuantity:v.availableQuantity,amountWithoutFee:v.amountWithoutFee,dateTicketId:v.dateTicketId,gender:v.gender,lotId:v.lotId,lotName:v.lotName,lotPrice:v.lotPrice,name:v.name,quantitySell:v.quantitySell,sectorId:v.sectorId,type:v.type,used:v.used})}),f}ticketGender(h){return"Undefined"==h?"Unissex":"Female"==h?"Feminino":"Male"==h?"Masculino":"Unissex"}ticketType(h){return"Undefined"==h?"Unissex":"Gratuity"==h?"Gratuidade":"Courtesy"==h?"Cortesia":"Half"==h?"Meia":"Full"==h?"Inteira":"Both"==h?"Meia/Inteira":"Inteira"}reloadEverything(){this.onlineAmountTicketsWithoutFeeSell=0,this.onlineAmountTicketsWithFeeSell=0,this.onlineQuantityTicketsSell=0,this.quantityTicketSellCourtesy=0,this.quantityTicketSellGratuity=0,this.quantityTicketsSellGratuityPercentage=0,this.quantityTicketsSellCourtesyPercentage=0,this.onlineQuantityTicketsSellPercentage=0,this.physicalAmountTicketsWithoutFeeSell=0,this.physicalAmountTicketsWithFeeSell=0,this.physicalQuantityTicketsSell=0,this.physicalQuantityTicketsSellPercentage=0,this.quantityTotalTicketsSell=0,this.chartPaymentMethods.length=0,this.chartEvolutionSellQuantity.length=0,this.chartEvolutionSellAmount.length=0,this.sectorSells.length=0}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete()}}return y.\u0275fac=function(h){return new(h||y)(e.Y36(s.F0),e.Y36(s.gz),e.Y36(D.r),e.Y36(Y.O),e.Y36(S.N))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-sales-report"]],inputs:{information:"information",cupomInformation:"cupomInformation",totalCupons:"totalCupons",amountTotalCuponsSell:"amountTotalCuponsSell"},features:[e.TTD],decls:32,vars:14,consts:[[1,"sales-report__content"],[1,"row"],[1,"mobile","col-sm-12","col-md-6","col-lg-4","col-xl-12","col-xxl-6","col-chart-custom"],[1,"mt-3",2,"width","100%","margin","auto","position","relative"],[1,"toolbar__tickets-sales","mobile",2,"background","transparent linear-gradient(270deg, #9921ff, 0%, #425bff 100%) 0% 0% no-repeat padding-box"],[2,"background","url(../../../../../../../assets/images/bg-header.jpg)","width","100%","position","absolute","background-size","cover","opacity","0.3","height","253px"],[1,"toolbar__logo","d-flex","align-items-center","justify-content-center",2,"position","relative"],["width","90px","src","../../../../../../assets/images/logowhite.png","alt","logo",1,"mt-4"],[1,"toolbar__tickets-title","text-white","text-center","mt-4",2,"font-size","15px","position","relative"],[1,"toolbar__tickets-data","text-white","text-center","fs-4",2,"position","relative"],[1,"py-3",2,"background","#43007c","opacity","0.4","width","100%","height","93px","position","absolute","z-index","1"],[1,"toolbar__tickets-title","text-white","text-center","mt-4",2,"font-size","15px","position","relative","z-index","2"],[1,"toolbar__tickets-data","mb-3","mt-3","text-center","text-white","fs-4",2,"z-index","2","padding-bottom","17px","position","relative","padding-bottom","13px padding-top:13px"],[4,"ngIf","ngIfElse"],["showLoading",""],["showLoading2",""],["showSectorSells",""],["showLoading3",""],["class","col-lg-12 col-lg-6 col-lg-4",4,"ngIf","ngIfElse"],[1,"col-sm-12","col-md-6","col-lg-4","col-xl-12","col-xxl-6","col-chart-custom"],[1,"card","chart"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"chart__container","d-flex"],["pieChart",""],[3,"view","scheme","doughnut","legend","results","gradient"],[1,"pie-chart__legend"],[1,"legend__legend-item"],[1,"legend-item__color"],[1,"color__online-sales"],[1,"legend-item__info"],[1,"info__title"],[1,"info__qty"],[1,"qty__pct"],[1,"info__balance"],[1,"color__physical-sales"],[1,"color__physical-sales",2,"background","#0c63e4"],[1,"color__physical-sales",2,"background","#cd13c7"],[1,"fs-5"],[1,"card-body","mx-auto"],[1,"chart__container",2,"width","100%"],[4,"ngFor","ngForOf"],[1,"mx-auto","mt-3","mb-3"],[1,"legend__legend-item",2,"justify-content","space-arround","width","100%"],[1,"legend-item__info","d-flex",2,"justify-content","space-between","width","100%"],[1,"col-sm-6"],[1,"info__title","fs-6"],[1,"info__balance","fs-6","mb-3","mt-3"],[1,"info__qty",2,"float","right","font-size","13px"],[2,"color","#0c63e4"],["svgIcon","ingressosa"],[1,"col-sm-12","col-lg-4"],[3,"theme"],[1,"col-lg-12","col-lg-6","mt-4","mb-4","col-lg-4"],[1,"card"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-striped2","ps-3","pe-3","table-borderless","m-0"],[1,"align-middle"],[1,"d-block",2,"color","#5A5D6D"],[1,"align-middle","text-nowrap",2,"color","#5A5D6D"],["class","col-lg-12 mb-5",4,"ngIf","ngIfElse"],[1,"col-lg-12","mb-5"],["class","accordion","id","accordionExample",4,"ngFor","ngForOf"],["id","accordionExample",1,"accordion"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],[1,"accordion-types"],[1,"accordion-types__name"],[1,"d-block"],[1,"accordion-types__balance"],[1,"accordion-types__number"],["aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse","show"],[1,"accordion-body"],[1,"table","table-striped2","table-borderless","m-0"],[1,"text-center"],["width","150px",1,"align-middle"],[1,"align-middle","text-center","text-nowrap",2,"color","#5A5D6D"],["aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"accordion-collapse","collapse"],[1,"col-lg-12","col-lg-6","col-lg-4"],[1,"table"]],template:function(h,f){if(1&h&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"h3",8),e._uU(9,"Total de ingressos vendidos"),e.qZA(),e.TgZ(10,"h4",9),e._uU(11),e.qZA(),e._UZ(12,"div",10),e.TgZ(13,"h3",11),e._uU(14,"Total (R$)"),e.qZA(),e.TgZ(15,"h4",12),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(18,b,72,36,"ng-container",13),e.YNc(19,A,4,4,"ng-template",null,14,e.W1O),e.YNc(21,x,19,1,"ng-container",13),e.YNc(22,g,2,2,"ng-template",null,15,e.W1O),e.YNc(24,z,2,2,"div",13),e.YNc(25,K,1,2,"ng-template",null,16,e.W1O),e.YNc(27,ie,1,2,"ng-template",null,17,e.W1O),e.YNc(29,_e,31,6,"div",18),e.YNc(30,me,2,2,"ng-template",null,14,e.W1O),e.qZA(),e.qZA()),2&h){const v=e.MAs(20),w=e.MAs(23),H=e.MAs(26);e.xp6(11),e.Oqu(f.quantityTotalTicketsSell),e.xp6(5),e.Oqu(e.Dn7(17,10,f.amountTotalTicketsSell,"BRL",!0)),e.xp6(2),e.Q6J("ngIf",0==f.loading)("ngIfElse",v),e.xp6(3),e.Q6J("ngIf",0==f.loading2)("ngIfElse",w),e.xp6(3),e.Q6J("ngIf",null!=f.information.sellsPdv&&f.information.sellsPdv.length>=1)("ngIfElse",H),e.xp6(5),e.Q6J("ngIf",0==f.loading)("ngIfElse",v)}},directives:[a.O5,k.JU,a.sg,V.Hw,O.xr],pipes:[a.H9,a.JJ],styles:[".sales-report__content[_ngcontent-%COMP%]{padding:10px;height:100vh;max-height:100%;max-height:-webkit-fill-available;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:auto!important}.chart[_ngcontent-%COMP%]{height:100%}.chart[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;padding:0 20px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:17px;padding:24px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]{display:flex;font-family:Inter}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]{margin-right:6px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__online-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#399CFF}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__physical-sales[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#7F94FF}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#5a5d6d;margin-bottom:7px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:20px;font-weight:700;line-height:22px;color:#282a35;margin-bottom:7px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]   .qty__pct[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:400;color:#5a5d6d}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__balance[_ngcontent-%COMP%]{font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5}.card-input-filter[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;background:#FCFCFC;border:1px solid #C3C3C3;border-radius:10px;width:100%;height:50px;padding:15px}.card-input-filter[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#a4a6b5}.card-input-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;outline:none;font-size:16px;font-weight:300;color:#a4a6b5}.accordion[_ngcontent-%COMP%]{--bs-accordion-border-radius: 0;--bs-accordion-inner-border-radius: 0;--bs-accordion-active-bg: #F5FAFE;--bs-accordion-btn-focus-box-shadow: none}.accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius);border-width:0 0 1px 0}.accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{flex-direction:row-reverse;height:93px;padding:20px 30px}.accordion-types[_ngcontent-%COMP%]{font-family:Inter;display:flex;justify-content:space-between;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px;color:#282a35;text-transform:capitalize;margin-left:30px;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;font-size:15px;font-weight:500;line-height:19px;color:#425bff;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__balance[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:20px;color:#5a5d6d;text-transform:capitalize;text-align:end;margin-right:30px;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__balance[_ngcontent-%COMP%]   .real[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:13px;color:#a4a6b5;margin-right:5px}@media (min-width: 768px){.card-input-filter[_ngcontent-%COMP%]{width:350px}}@media (min-width: 1200px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}}@media (min-width: 1230px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}}@media (min-width: 1400px){.col-xxl-6.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}}@media (min-width: 1700px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}}@media (min-width: 768px){.mobile[_ngcontent-%COMP%]{display:none}}",".row[_ngcontent-%COMP%]{--bs-gutter-x: 10px;--bs-gutter-y: 10px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{max-height:-webkit-fill-available;-webkit-overflow-scrolling:auto!important;height:100%}.table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > td[_ngcontent-%COMP%], .table-striped2[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd) > th[_ngcontent-%COMP%]{background-color:#f5fafe!important}.card[_ngcontent-%COMP%]{width:100%;border:0;border-radius:2px;box-shadow:0 0 10px #3c468729;font-family:Inter}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:15px 20px;background:#FFFFFF;border-bottom:1px solid #E5EBF4}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:13px;color:#a4a6b5;margin:0}.toggle__button[_ngcontent-%COMP%]{background:white;outline:1px solid gray}"]}),y})()},7562:(G,B,c)=>{c.r(B),c.d(B,{SalesReportModule:()=>E});var i=c(9808),e=c(5245),s=c(7851),D=c(3287),Y=c(238),S=c(5e3);const a=[{path:"",component:Y.H}];let k=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=S.oAB({type:C}),C.\u0275inj=S.cJS({imports:[[D.Bz.forChild(a)],D.Bz]}),C})();var V=c(1268),O=c(6770);let E=(()=>{class C{}return C.\u0275fac=function(p){return new(p||C)},C.\u0275mod=S.oAB({type:C}),C.\u0275inj=S.cJS({imports:[[i.ez,O.hx,V.F,k,s.a4,e.Ps]]}),C})()},5966:(G,B,c)=>{c.d(B,{p:()=>a});var i=c(5e3),e=c(8285),s=c(9808);function D(k,V){1&k&&(i.TgZ(0,"tbody"),i.TgZ(1,"p"),i._uU(2,"Nenhum registro encontrado."),i.qZA(),i.qZA())}function Y(k,V){if(1&k&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.ALo(3,"date"),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td"),i.TgZ(9,"span",12),i._uU(10),i.ALo(11,"currency"),i.qZA(),i.qZA(),i.qZA()),2&k){const O=V.$implicit;i.xp6(2),i.Oqu(i.xi3(3,4,O.extract_date,"dd/MM/yyyy - HH:mm:ss")),i.xp6(3),i.Oqu(O.user_name_extractor),i.xp6(2),i.Oqu(O.user_name),i.xp6(3),i.Oqu(i.Dn7(11,7,O.extract_value,"BRL",!0))}}function S(k,V){if(1&k&&(i.TgZ(0,"tbody"),i.TgZ(1,"tr",9),i.TgZ(2,"th",10),i._uU(3),i.qZA(),i.qZA(),i.TgZ(4,"tr"),i.TgZ(5,"td"),i._UZ(6,"small"),i._UZ(7,"br"),i.TgZ(8,"b"),i._uU(9,"Data"),i.qZA(),i.qZA(),i.TgZ(10,"td"),i._UZ(11,"small"),i._UZ(12,"br"),i.TgZ(13,"b"),i._uU(14,"Respons\xe1vel"),i.qZA(),i.qZA(),i.TgZ(15,"td"),i._UZ(16,"small"),i._UZ(17,"br"),i.TgZ(18,"b"),i._uU(19,"Operador"),i.qZA(),i.qZA(),i.TgZ(20,"td"),i._UZ(21,"small"),i._UZ(22,"br"),i.TgZ(23,"b"),i._uU(24,"Valor"),i.qZA(),i.qZA(),i.qZA(),i.YNc(25,Y,12,11,"tr",8),i.TgZ(26,"tr"),i.TgZ(27,"td",11),i._uU(28,"Vendas em dinheiro"),i.qZA(),i.TgZ(29,"td"),i._uU(30),i.ALo(31,"currency"),i.qZA(),i.qZA(),i.TgZ(32,"tr"),i.TgZ(33,"td",11),i._uU(34,"Sangrias"),i.qZA(),i.TgZ(35,"td"),i._uU(36),i.ALo(37,"currency"),i.qZA(),i.qZA(),i.TgZ(38,"tr"),i.TgZ(39,"td",11),i._uU(40,"Saldo"),i.qZA(),i.TgZ(41,"td"),i._uU(42),i.ALo(43,"currency"),i.qZA(),i.qZA(),i._UZ(44,"tr"),i.qZA()),2&k){const O=V.$implicit;i.xp6(3),i.Oqu(O.pdvName),i.xp6(22),i.Q6J("ngForOf",O.moneyExtrect),i.xp6(5),i.Oqu(i.Dn7(31,5,O.pdvSalesOnMoney,"BRL",!0)),i.xp6(6),i.hij(" ",i.Dn7(37,9,O.pdvExtractTotal,"BRL",!0),""),i.xp6(6),i.Oqu(i.Dn7(43,13,O.pdvExtractCurrent,"BRL",!0))}}let a=(()=>{class k{constructor(O){this.reportService=O,this.eventId="",this.param={}}ngOnInit(){this.eventId=location.pathname.split("/")[3],this.listMoneyByPdv()}ngOnChanges(O){this.information=O.information.currentValue,this.information2=O.information2.currentValue,null!=this.information2&&this.information2.pdvs.length>=1&&(console.log(this.information2.pdvs),this.listMoneyByPdv())}listMoneyByPdv(){this.param.eventId=this.eventId,this.param.withFees=!1;let E=[],C=this.information;for(let p=0;p<this.information2.pdvs.length;p++){E[E.length]=this.information2.pdvs[p],E[p].moneyExtrect=[],E[p].moneyExtrectTotal=0,E[p].moneyExtrectQtd=0;let A=C[p].extracts_pdv;for(let u=0;u<Object.keys(A).length;u++)if(this.information2.pdvs[p].pdvId==A[u].extract_pdv){var b={extract_id:A[u].extract_id,extract_value:A[u].extract_value,extract_date:A[u].extract_date,user_id:A[u].id,user_name:A[u].user_name,user_name_extractor:A[u].userName,user_createdAt:A[u].user_createdAt};E[p].pdvSalesOnMoney=C[p].total_pdv_money_cash,E[p].pdvExtractTotal=C[p].total_extract_money,E[p].pdvyExtractQtd+=1,E[p].pdvExtractCurrent=C[p].total_pdv_current_money,E[p].moneyExtrect.push(b)}0==Object.keys(A).length&&(E[p].pdvSalesOnMoney=C[p].total_pdv_money_cash,E[p].pdvExtractTotal=C[p].total_extract_money,E[p].pdvyExtractQtd=0,E[p].pdvExtractCurrent=C[p].total_pdv_current_money)}}}return k.\u0275fac=function(O){return new(O||k)(i.Y36(e.r))},k.\u0275cmp=i.Xpm({type:k,selectors:[["app-sangria-report"]],inputs:{information:"information",information2:"information2"},features:[i.TTD],decls:9,vars:2,consts:[[1,"sangria-report__content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"table-active"],["colspan","100%",1,"text-center"],["colspan","3",1,"text-right"],[1,"text-nowrap"]],template:function(O,E){1&O&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"table",6),i.YNc(7,D,3,0,"tbody",7),i.YNc(8,S,45,17,"tbody",8),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&O&&(i.xp6(7),i.Q6J("ngIf",null==E.information2.pdvs),i.xp6(1),i.Q6J("ngForOf",E.information2.pdvs))},directives:[s.O5,s.sg],pipes:[s.uU,s.H9],styles:[".sangria-report__content[_ngcontent-%COMP%]{padding:10px;height:100vh;max-height:-webkit-fill-available;overflow-y:auto;overflow-x:hidden}.chart[_ngcontent-%COMP%]{height:100%}.chart[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;padding:0 20px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:17px;padding:24px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]{display:flex;font-family:Inter}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]{margin-right:6px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__online-sangria[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#399CFF}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__color[_ngcontent-%COMP%]   .color__physical-sangria[_ngcontent-%COMP%]{display:block;width:12px;height:12px;border-radius:2px;background:#7F94FF}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__title[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#5a5d6d;margin-bottom:7px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]{display:flex;gap:5px;font-size:20px;font-weight:700;line-height:22px;color:#282a35;margin-bottom:7px}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__qty[_ngcontent-%COMP%]   .qty__pct[_ngcontent-%COMP%]{font-size:12px;line-height:16px;font-weight:400;color:#5a5d6d}.chart[_ngcontent-%COMP%]   .pie-chart__legend[_ngcontent-%COMP%]   .legend__legend-item[_ngcontent-%COMP%]   .legend-item__info[_ngcontent-%COMP%]   .info__balance[_ngcontent-%COMP%]{font-size:12px;line-height:13px;font-weight:500;color:#a4a6b5}.card-input-filter[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;background:#FCFCFC;border:1px solid #C3C3C3;border-radius:10px;width:100%;height:50px;padding:15px}.card-input-filter[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#a4a6b5}.card-input-filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;outline:none;font-size:16px;font-weight:300;color:#a4a6b5}.accordion[_ngcontent-%COMP%]{--bs-accordion-border-radius: 0;--bs-accordion-inner-border-radius: 0;--bs-accordion-active-bg: #F5FAFE;--bs-accordion-btn-focus-box-shadow: none}.accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius);border-width:0 0 1px 0}.accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{flex-direction:row-reverse;height:93px;padding:20px 30px}.accordion-types[_ngcontent-%COMP%]{font-family:Inter;display:flex;justify-content:space-between;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:22px;color:#282a35;text-transform:capitalize;margin-left:30px;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;font-size:15px;font-weight:500;line-height:19px;color:#425bff;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__balance[_ngcontent-%COMP%]{font-size:15px;font-weight:500;line-height:20px;color:#5a5d6d;text-transform:capitalize;text-align:end;margin-right:30px;width:100%}.accordion-types[_ngcontent-%COMP%]   .accordion-types__balance[_ngcontent-%COMP%]   .real[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:13px;color:#a4a6b5;margin-right:5px}@media (min-width: 768px){.card-input-filter[_ngcontent-%COMP%]{width:350px}}@media (min-width: 1200px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}}@media (min-width: 1230px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}}@media (min-width: 1400px){.col-xxl-6.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}}@media (min-width: 1700px){.col-xl-12.col-chart-custom[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}}@media (min-width: 768px){.mobile[_ngcontent-%COMP%]{display:none}}"]}),k})()},5368:(G,B,c)=>{c.r(B),c.d(B,{SangriaReportModule:()=>C});var i=c(9808),e=c(5245),s=c(7851),D=c(3287),Y=c(5966),S=c(5e3);const a=[{path:"",component:Y.p}];let k=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[D.Bz.forChild(a)],D.Bz]}),b})();var V=c(1268),O=c(6770),E=c(5899);let C=(()=>{class b{}return b.\u0275fac=function(A){return new(A||b)},b.\u0275mod=S.oAB({type:b}),b.\u0275inj=S.cJS({imports:[[i.ez,O.hx,E.Cv,V.F,k,s.a4,e.Ps]]}),b})()},4920:(G,B,c)=>{c.d(B,{N:()=>s});var i=c(1135),e=c(5e3);let s=(()=>{class D{constructor(){this.cookie=new i.X([])}defineCookie(S){var a=new Date,k=a.getTime();a.setTime(k+=36e5);var E,V=S;this.cookie.subscribe(C=>{E=C}),E[E.length]=document.cookie="eventId="+V+"; expires="+a.toUTCString()+"; path=/",JSON.stringify("events",E),this.cookie.next(E)}getCookie(S){let a="";return this.cookie.subscribe(k=>(console.log(k),k.forEach(V=>{console.log(V),V.split("eventId=")[1].split(";")[0]==S&&(a=S)}),S)),S}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=e.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},5899:(G,B,c)=>{c.d(B,{Cv:()=>x,pW:()=>A});var i=c(5e3),e=c(9808),s=c(508),D=c(3191),Y=c(6360),S=c(727),a=c(4968),k=c(9300);const V=["primaryValueBar"],O=(0,s.pj)(class{constructor(g){this._elementRef=g}},"primary"),E=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function C(){const g=(0,i.f3M)(e.K0),U=g?g.location:null;return{getPathname:()=>U?U.pathname+U.search:""}}}),b=new i.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let p=0,A=(()=>{class g extends O{constructor(M,_,z,$,j,ae){super(M),this._ngZone=_,this._animationMode=z,this._changeDetectorRef=ae,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=S.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+p++;const K=$?$.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${K}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===z,j&&(j.color&&(this.color=this.defaultColor=j.color),this.mode=j.mode||this.mode)}get value(){return this._value}set value(M){var _;this._value=u((0,D.su)(M)||0),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(M){var _;this._bufferValue=u(M||0),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const M=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,a.R)(M,"transitionend").pipe((0,k.h)(_=>_.target===M)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return g.\u0275fac=function(M){return new(M||g)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(Y.Qb,8),i.Y36(E,8),i.Y36(b,8),i.Y36(i.sBO))},g.\u0275cmp=i.Xpm({type:g,selectors:[["mat-progress-bar"]],viewQuery:function(M,_){if(1&M&&i.Gf(V,5),2&M){let z;i.iGM(z=i.CRH())&&(_._primaryValueBar=z.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(M,_){2&M&&(i.uIk("aria-valuenow","indeterminate"===_.mode||"query"===_.mode?null:_.value)("mode",_.mode),i.ekj("_mat-animation-noopable",_._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(M,_){1&M&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1),i.TgZ(2,"defs"),i.TgZ(3,"pattern",2),i._UZ(4,"circle",3),i.qZA(),i.qZA(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5),i._UZ(7,"div",6,7),i._UZ(9,"div",8),i.qZA()),2&M&&(i.xp6(3),i.Q6J("id",_.progressbarId),i.xp6(2),i.uIk("fill",_._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",_._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",_._primaryTransform()))},directives:[e.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),g})();function u(g,U=0,M=100){return Math.max(U,Math.min(M,g))}let x=(()=>{class g{}return g.\u0275fac=function(M){return new(M||g)},g.\u0275mod=i.oAB({type:g}),g.\u0275inj=i.cJS({imports:[[e.ez,s.BQ],s.BQ]}),g})()}}]);